{"version":3,"file":"pages/promoteQuestion/_id.js","sources":["webpack:///./config/reg.config.js","webpack:///./assets/images/pay/finish.png","webpack:///./assets/images/backgroundPromote/kefu.png","webpack:///./pages/promoteQuestion/_id.vue?b623","webpack:///./assets/images/pay/a.png","webpack:///./pages/promoteQuestion/_id.vue?208c","webpack:///./pages/promoteQuestion/_id.vue?bc8f","webpack:///./assets/images/backgroundPromote/queBg.png","webpack:///./pages/promoteQuestion/_id.vue?ba0d","webpack:///./pages/promoteQuestion/_id.vue","webpack:///./pages/promoteQuestion/_id.vue?3f1f","webpack:///./pages/promoteQuestion/_id.vue?4653","webpack:///./api/biunique.js","webpack:///./api/studyCenter.js"],"sourcesContent":["\r\nexport default {\r\n  phone: /^\\d{11}$/,\r\n  //email: /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z0-9]+$/,\r\n  email: /^[A-Za-z0-9][-A-Za-z0-9._]*@[A-Za-z0-9][-A-Za-z0-9.]*\\.[A-Za-z]{2,6}$/,\r\n  money: /^(0|\\+?[1-9][0-9]*)$/ // 金额只能输入0或者大于0的整数\r\n}\r\n\r\n","module.exports = __webpack_public_path__ + \"img/finish.3dde5cf.png\";","module.exports = __webpack_public_path__ + \"img/kefu.1ded7b3.png\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--5-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=style&index=0&id=73b1f5cc&lang=less&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"78abff4e\", content, true, context)\n};","module.exports = __webpack_public_path__ + \"img/a.20800db.png\";","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--5-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=style&index=0&id=73b1f5cc&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--5-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--5-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--5-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--5-oneOf-1-4!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=style&index=0&id=73b1f5cc&lang=less&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"@/assets/images/backgroundPromote/queBg.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\nexports.push([module.id, \".page[data-v-73b1f5cc]{height:100vh;background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") no-repeat;background-size:100% 100%;padding-top:.4rem}.page .formWrap[data-v-73b1f5cc]{background:#fff;margin:0 .4rem;border-radius:.18667rem;box-shadow:0 .08rem .13333rem 0 rgba(7,24,110,.2);padding:.13333rem .26667rem .53333rem}.page .formWrap[data-v-73b1f5cc] .van-field{border:.02667rem solid #666;border-radius:.08rem}.page .formWrap .question[data-v-73b1f5cc]:before{content:\\\"\\\";display:inline-block;width:.13333rem;height:.13333rem;opacity:1;background:#c7004c;border-radius:50%;position:relative;top:-.13333rem}.page .payBtn[data-v-73b1f5cc]{line-height:1.17333rem;background:linear-gradient(180deg,#fcdb00,#f7b500 100%);color:#333;font-size:.53333rem;text-align:center;margin:1.06667rem .4rem 0;border-radius:.08rem}.payFinish[data-v-73b1f5cc]{min-height:100vh}.payFinish .top[data-v-73b1f5cc]{display:flex;justify-content:center;align-items:center}.payFinish .top .top_title[data-v-73b1f5cc]{color:#f29b00}.payFinish .img[data-v-73b1f5cc]{display:inline-block;width:3.2rem}.payFinish .bottom[data-v-73b1f5cc]{display:flex;justify-content:center;align-items:center}.payFinish .bottom .btn[data-v-73b1f5cc]{width:3.2rem;height:1.06667rem;background:#ff6b00;border-radius:.13333rem;text-align:center;line-height:1.06667rem}.payFinish .bottom .btnOhter[data-v-73b1f5cc]{background:#fefefe;border:.02667rem solid #d9d9d9}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = __webpack_public_path__ + \"img/queBg.c3aeb2e.png\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.isSuccess)?_vm._ssrNode(\"<div class=\\\"page\\\" data-v-73b1f5cc>\",\"</div>\",[_vm._ssrNode(\"<ul class=\\\"formWrap fs14\\\" data-v-73b1f5cc>\",\"</ul>\",_vm._l((_vm.questions),function(item,index){return _vm._ssrNode(\"<li class=\\\"mt20\\\" data-v-73b1f5cc>\",\"</li>\",[_vm._ssrNode(\"<div\"+(_vm._ssrClass(null,['c-333', {'question':item.required}]))+\" data-v-73b1f5cc>\"+_vm._ssrEscape(\"\\n          \"+_vm._s(((index+1) + \"，\" + (item.question)))+\"?\\n        \")+\"</div> \"),_vm._ssrNode(\"<div class=\\\"mt7 formItem\\\" data-v-73b1f5cc>\",\"</div>\",[(item.type === 'input')?_c('van-field',{attrs:{\"placeholder\":item.placeholder || (\"请输入\" + (item.question))},model:{value:(_vm.form[item.value]),callback:function ($$v) {_vm.$set(_vm.form, item.value, $$v)},expression:\"form[item.value]\"}}):(item.type==='select')?_c('van-field',{key:item.prop,attrs:{\"readonly\":\"\",\"name\":\"picker\",\"value\":_vm.changeFormValue(item),\"placeholder\":\"请选择\",\"right-icon\":\"arrow-down\"},on:{\"click\":function($event){return _vm.pickerShow(item)}}}):_vm._e()],1)],2)}),0),_vm._ssrNode(\" <div class=\\\"payBtn\\\" data-v-73b1f5cc>\"+_vm._ssrEscape(\"\\n      \"+_vm._s(_vm.tradeNO ? '去支付' : '提交')+\"\\n    \")+\"</div>\")],2):_vm._ssrNode(\"<div class=\\\"pt83 bg-fff payFinish\\\" data-v-73b1f5cc><div class=\\\"top\\\" data-v-73b1f5cc><img\"+(_vm._ssrAttr(\"src\",require(\"@/assets/images/pay/finish.png\")))+\" alt=\\\"购买成功logo\\\" data-v-73b1f5cc> <p class=\\\"top_title fs20\\\" data-v-73b1f5cc>\\n          您已成功报名课程！\\n        </p></div> <div class=\\\"mt34 textCenter\\\" data-v-73b1f5cc><img\"+(_vm._ssrAttr(\"src\",require('@/assets/images/backgroundPromote/kefu.png')))+\" alt=\\\"公众号\\\" class=\\\"img\\\" data-v-73b1f5cc></div> <div class=\\\"mt7 textCenter fs14\\\" data-v-73b1f5cc><img\"+(_vm._ssrAttr(\"src\",require('@/assets/images/pay/a.png')))+\" width=\\\"16\\\" data-v-73b1f5cc></div> <div class=\\\"mt7 c-666 fs14 textCenter\\\" data-v-73b1f5cc>\\n        请扫码加助教老师\\n      </div> <div class=\\\"fs14 c-333 mt10 textCenter\\\" data-v-73b1f5cc>\\n        我们已经收到您的申请啦！请务必扫码加助教老师\\n      </div> <div class=\\\"fs14 c-333 textCenter mt2\\\" data-v-73b1f5cc>\\n        备注“一对一 /小组科研”，分配班级和导师\\n      </div> <div class=\\\"bottom mt25\\\" data-v-73b1f5cc><div class=\\\"btn btnOhter c-666 fs14 ml5 mr5\\\" data-v-73b1f5cc>\\n          返回课程\\n        </div></div></div>\"),_vm._ssrNode(\" \"),_c('van-popup',{attrs:{\"position\":\"bottom\"},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}},[_c('van-picker',{attrs:{\"show-toolbar\":\"\",\"columns\":_vm.activeFormConfig.options,\"defaultIndex\":_vm.pickerIndex,\"value-key\":\"name\"},on:{\"confirm\":_vm.onConfirm,\"cancel\":function($event){_vm.showPicker= false}}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { submitProblem } from '@/api/biunique'\nimport { payTrade } from '@/api/studyCenter'\nimport reg from '@/config/reg.config'\nexport default {\n  data() {\n    return{\n      form:{},\n      questions:[\n        { question:'您的专业领域方向', type:'input', value:'q1', required:true},\n        { question:'您目前的在读情况/在职情况', type:'select', options:['本科', '硕士研究生', '博士研究生', '博士后', '讲师', '副教授', '教授', '其它'], value:'q2', required:true },\n        { question:'您目前的期刊论文写作进度是', type:'select', options:['未开始写作', '正在写作', '已经完成写作'], value:'q3', required:false },\n        { question:'您的手机号是', type:'input', value:'q4', placeholder:'请填写您的手机号，方便工作人员联系您', required:true },\n      ],\n      isSuccess:false,\n      tradeNO:null,\n      showPicker:false,\n      activeFormConfig:{\n        options:[]\n      }, //选择器下拉\n      pickerIndex:0, //选择器的值\n    }\n  },\n  mounted() {\n    if(this.$route.query.tradeNO) {\n      this.tradeNO = this.$route.query.tradeNO\n    }\n  },\n  methods:{\n    //打开选中器\n    pickerShow (item) {\n      this.activeFormConfig = item\n      const value = this.form[this.activeFormConfig.value]\n      let pickerIndex = item.options.findIndex(p => (p === value))\n      this.pickerIndex = pickerIndex > -1 ? pickerIndex : 0\n      this.showPicker = true\n    },\n    //选择器选中\n    onConfirm(value) {\n      this.$set(this.form, this.activeFormConfig.value, value)\n      this.showPicker = false\n      this.pickerIndex = 0\n    },\n    changeFormValue(item) {\n      const file = item.options.find(p=>p === this.form[item.value])\n      return file  ? file :null\n    },\n    async submit() {\n      const index = this.questions.findIndex(p=>{\n        return p.required && !this.form[p.value]\n      })\n      if(index > -1) {\n        return this.$toast.fail(\"你还有问题没有回答\")\n      }\n      //验证手机\n      if (!reg.phone.test(this.form.q4)) return this.$toast.fail('请输入正确手机号码!')\n      let params = {\n        ...this.form\n      }\n      if(this.tradeNO) {\n        params.tradeNO = this.tradeNO\n      } else {\n        params.storeId = this.$route.params.id\n      }\n      const { data } = await submitProblem(params)\n      if(data.code === 0) {\n        if(this.tradeNO) {\n          const res = await payTrade(this.tradeNO)\n          if(res.data.code === 0) {\n            window.location.href = res.data.data\n          }\n        } else {\n          this.isSuccess = true\n        }\n      }\n    },\n    goBack() {\n      this.$router.push({\n        path:`/promoteDetail/${this.$route.params.id}`\n      })\n    }\n  },\n  head () {\n    return {\n      title: '科研背景提升问卷—艾思云课堂',\n    }\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_id.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_id.vue?vue&type=template&id=73b1f5cc&scoped=true&\"\nimport script from \"./_id.vue?vue&type=script&lang=js&\"\nexport * from \"./_id.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./_id.vue?vue&type=style&index=0&id=73b1f5cc&lang=less&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"73b1f5cc\",\n  \"c86e5220\"\n  \n)\n\nexport default component.exports","/**一对一接口 */\r\nimport request from \"@/utils/request\"\r\nimport qs from \"qs\"\r\n\r\n//培训订单-获取优惠券\r\nexport const getTradeCoupon = () => {\r\n  return request.post(`/school/train/trade/coupon`)\r\n}\r\n\r\n//培训订单-创建订单\r\nexport const submitTrade = (params) => {\r\n  return request.post(`/school/train/trade/submit`, params, {\r\n    headers: {\r\n      'Content-Type': 'application/json;charset=utf-8'\r\n    }\r\n  })\r\n}\r\n\r\n//培训文章-学科分类列表\r\nexport const getArticleList = (params) => {\r\n  const { categoryId, res } = params\r\n  return request.post(`/school/train/article/subject/${categoryId}`, qs.stringify(res))\r\n}\r\n\r\n//培训文章-学科文章详情\r\nexport const getArticleDetail = (articleId) => {\r\n  return request.post(`/school/train/article/subject/detail/${articleId}`)\r\n}\r\n\r\n//一对一论文上传\r\nexport const uploadTrade = (params) => {\r\n  return request.post(`/school/train/trade/upload`, params)\r\n}\r\n\r\n\r\n//培训文章-专家列表\r\nexport const getArticleExperts = () => {\r\n  return request.post(`/school/train/article/experts`)\r\n}\r\n\r\n//获取一对一分类列表\r\nexport const getCategoryList = (params) => {\r\n  const { parentId, type } = params\r\n  return request.post(`/school/train/article/category/list/${parentId}/${type}`)\r\n}\r\n\r\n//获取一对一分类详情\r\nexport const getCategoryInfo = (id) => {\r\n  return request.post(`/school/train/article/category/info/${id}`)\r\n}\r\n\r\n//获取一对一栏目\r\nexport const getStoreCategory = () => {\r\n  return request.post(`/school/train/store/category`)\r\n}\r\n\r\n//获取一对一课程\r\nexport const getStoreStores = (params) => {\r\n  return request.post(`/school/train/store/stores`, qs.stringify(params))\r\n}\r\n\r\n//获取课程详情\r\nexport const getStoreDetail = (storeId) => {\r\n  return request.post(`/school/train/store/detail/${storeId}`)\r\n}\r\n\r\n//背景提升问卷\r\nexport const submitProblem = (params) => {\r\n  return request.post(`/school/train/trade/problem`, qs.stringify(params))\r\n}\r\n\r\n//背景提升课程状态 \r\nexport const getStoreInfo = (storeId) => {\r\n  return request.post(`/school/train/store/info/${storeId}`)\r\n}\r\n","/**学习中心 */\r\nimport request from \"@/utils/request\"\r\nimport qs from \"qs\"\r\n\r\n// 获取学习统计\r\nexport const studyStatistics = () => {\r\n  return request.post(`/school/study/statistics`)\r\n}\r\n\r\n// 最近学习列表\r\nexport const studyList = (params) => {\r\n  return request.post(`/school/study/list`, qs.stringify(params))\r\n}\r\n\r\n// 我的收藏\r\nexport const studyFavoriteList = (params) => {\r\n  return request.post(`/school/favorite/list`, qs.stringify(params))\r\n}\r\n\r\n//我的课程\r\nexport const getStudyCourse = (params) => {\r\n  return request.post(`/school/study/courses`, qs.stringify(params))\r\n}\r\n\r\n//获取我的订单列表\r\nexport const getTradeList = (params) => {\r\n  return request.post(`/school/student/trade/list`, qs.stringify(params))\r\n}\r\n\r\n\r\n//支付订单\r\nexport const payTrade = (params) => {\r\n  return request.post(`/school/student/trade/pay/${params}`)\r\n}\r\n\r\n//取消订单\r\nexport const cancleTrade = (params) => {\r\n  return request.post(`/school/student/trade/cancel/${params}`)\r\n}\r\n\r\n//获取我的一对一订单\r\nexport const getbiuniqueTrade = (params) => {\r\n  return request.post(`/school/train/trade/list`, qs.stringify(params))\r\n}\r\n\r\n// 预览证书\r\nexport const previewCertificate = ({courseId, receiveId}) => {\r\n  return request.post(`/school/study/cert/${courseId}/${receiveId}`, {}, {\r\n    responseType: 'arraybuffer'\r\n  })\r\n}\r\n"],"mappings":";;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AALA;;;;;;;ACDA;;;;;;;ACAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACVA;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACTA;;;;;;;;;;;;ACAA;AACA;AACA;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AADA;AAEA;AACA;AACA;AAfA;AAgBA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AArDA;AACA;AAqDA;AACA;AACA;AADA;AAGA;AACA;AAnFA;;ACnFA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;AC1EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAGA;;;;A","sourceRoot":""}