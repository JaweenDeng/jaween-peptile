exports.ids = [14];
exports.modules = {

/***/ 312:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(531);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("77f39a4a", content, true, context)
};

/***/ }),

/***/ 527:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/suo.15dadcf.png";

/***/ }),

/***/ 528:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/avator.c658cd1.png";

/***/ }),

/***/ 529:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/peopleIcon.a123fee.png";

/***/ }),

/***/ 530:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_id_vue_vue_type_style_index_0_id_684844b4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(312);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_id_vue_vue_type_style_index_0_id_684844b4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_id_vue_vue_type_style_index_0_id_684844b4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_id_vue_vue_type_style_index_0_id_684844b4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_id_vue_vue_type_style_index_0_id_684844b4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_id_vue_vue_type_style_index_0_id_684844b4_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 531:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
var ___CSS_LOADER_GET_URL_IMPORT___ = __webpack_require__(32);
var ___CSS_LOADER_URL_IMPORT_0___ = __webpack_require__(532);
exports = ___CSS_LOADER_API_IMPORT___(false);
var ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);
// Module
exports.push([module.i, ".page[data-v-684844b4]{display:flex;flex-direction:column;min-height:100vh}.nameWrap[data-v-684844b4]{width:100%;padding:0 .26667rem}.banner[data-v-684844b4]{width:100%;height:5.46667rem;flex:0 0 5.46667rem;position:relative}.banner .img[data-v-684844b4]{width:100%;height:100%}.banner .rules[data-v-684844b4]{position:fixed;top:.34667rem;right:0;width:1.6rem;line-height:.64rem;opacity:1;background:#ff8d24;border-top-left-radius:.26667rem;border-bottom-left-radius:.26667rem;font-size:.32rem;color:#fff;text-align:center;z-index:10}.banner .bannerModal[data-v-684844b4]{position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(40,40,40,.6);text-align:center;display:flex;align-items:center;justify-content:center;flex-direction:column}.content[data-v-684844b4]{background:url(" + ___CSS_LOADER_URL_REPLACEMENT_0___ + ") no-repeat 0 -.8rem;background-size:100% 107%;flex:1;position:relative}.content .wrap[data-v-684844b4]{margin:0 .53333rem;background:#fff5db;border-radius:.26667rem;box-shadow:0 .08rem .05333rem 0 rgba(208,198,172,.25);color:#68050b;position:relative}.content .wrap[data-v-684844b4]:before{content:\"\";position:absolute;top:0;left:50%;transform:translateX(-50%);width:2.66667rem;height:.26667rem;background:#ffc38b;border-bottom-left-radius:.13333rem;border-bottom-right-radius:.13333rem}.content .wrap .title[data-v-684844b4]{display:flex;justify-content:center;align-items:center}.content .wrap .title[data-v-684844b4]:before{margin-right:.26667rem}.content .wrap .title[data-v-684844b4]:after,.content .wrap .title[data-v-684844b4]:before{content:\"\";display:block;width:.66667rem;height:.10667rem;opacity:1;background:linear-gradient(270deg,#ffc38b,rgba(255,195,139,0));border-radius:.21333rem}.content .wrap .title[data-v-684844b4]:after{margin-left:.26667rem}.content .wrap .friendWrap[data-v-684844b4]{background:#fff;display:flex;flex-wrap:wrap;padding-left:.13333rem}.content .wrap .friendWrap li[data-v-684844b4]{margin-top:.13333rem;width:20%;padding:0 .08rem}.content .wrap .friendWrap .avatar[data-v-684844b4]{border-radius:100%}.content .wrap .firstFriendWrap[data-v-684844b4]{display:flex;justify-content:center;align-items:center;background:#fff;color:#989898;font-size:.4rem;font-weight:500;width:8rem;height:3.44rem}.content .wrap .joinBtn[data-v-684844b4]{background:#f85450;border-radius:.74667rem;color:#fff}.content .wrap .buyBtn[data-v-684844b4],.content .wrap .joinBtn[data-v-684844b4]{width:100%;height:1.2rem;text-align:center;font-size:.48rem}.content .wrap .buyBtn[data-v-684844b4]{background:#f6faff;border:.05333rem solid #378bff;border-radius:.74667rem;background:#fff;color:#378bff;margin-top:.26667rem}.content .wrap .endBtn[data-v-684844b4]{background:#eae8e8;color:#989898}.content .countWrap[data-v-684844b4]{display:flex;justify-content:center;position:absolute;left:0;right:0;top:.8rem}.content .countWrap .endTime[data-v-684844b4]{display:flex;align-items:center;color:#333;line-height:0;font-weight:500}.content .countWrap .endTime .number[data-v-684844b4]{display:inline-block;width:.53333rem;height:.53333rem;font-size:.32rem;line-height:.53333rem;font-weight:500;text-align:center;background:#ffd702;color:#333;border-radius:.02667rem}[data-v-684844b4] .van-popup{border-radius:.13333rem}.popup .closeIcon[data-v-684844b4]{position:absolute;top:.26667rem;right:.26667rem;font-size:.64rem}.popup .tips[data-v-684844b4]{color:#989898;font-size:.37333rem;margin-top:.26667rem}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 532:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/callBg.87cfc93.png";

/***/ }),

/***/ 615:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./pages/courseCall/_id.vue?vue&type=template&id=684844b4&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (Object.keys(_vm.data).length)?_c('div',{staticClass:"page"},[_vm._ssrNode("<div class=\"banner\" data-v-684844b4><img"+(_vm._ssrAttr("src",("" + (_vm.config.IMG_URL.default) + (_vm.data.call.poster))))+" class=\"img\" data-v-684844b4> <div class=\"rules\" data-v-684844b4>\n      活动规则\n    </div> <div class=\"bannerModal\" data-v-684844b4><img"+(_vm._ssrAttr("src",__webpack_require__(527)))+" width=\"30\" data-v-684844b4> <div class=\"fs14 mt10 c-fff oneLine nameWrap\" data-v-684844b4>"+_vm._ssrEscape("\n        "+_vm._s(("正在解锁《" + _vm.courseName + "》"))+"\n      ")+"</div></div></div> "),_vm._ssrNode("<div class=\"content pt80\" data-v-684844b4>","</div>",[_vm._ssrNode((((_vm.isShare || _vm.data.own) && _vm.data.call.status === 1 && !_vm.isDown)?("<div class=\"fs14 mb20 countWrap\" data-v-684844b4><span class=\"c-fff f600\" data-v-684844b4>集call倒计时：</span> <div class=\"endTime\" data-v-684844b4><span class=\"number\" data-v-684844b4>"+_vm._ssrEscape(_vm._s(_vm.endTime('d')))+"</span> <span class=\"f600 fs12 ml5 mr5\" data-v-684844b4>天</span> <span class=\"number\" data-v-684844b4>"+_vm._ssrEscape(_vm._s(_vm.endTime('h')))+"</span> <span class=\"f600 fs12 ml5 mr5\" data-v-684844b4>:</span> <span class=\"number\" data-v-684844b4>"+_vm._ssrEscape(_vm._s(_vm.endTime('m')))+"</span> <span class=\"f600 fs12 ml5 mr5\" data-v-684844b4>:</span> <span class=\"number\" data-v-684844b4>"+_vm._ssrEscape(_vm._s(_vm.endTime('s')))+"</span></div></div>"):"<!---->")+" "+((_vm.data.call && _vm.data.call.start>0 && _vm.data.call.end>1 && !_vm.data.own && !_vm.recordId)?("<div class=\"fs16 mb20 countWrap\" data-v-684844b4>"+_vm._ssrEscape("\n      活动时间: "+_vm._s(_vm.$changeTime(_vm.data.call.start, "YYYY/MM/DD"))+" - "+_vm._s(_vm.$changeTime(_vm.data.call.end, "YYYY/MM/DD"))+"\n    ")+"</div>"):"<!---->")+" "),_vm._ssrNode("<div class=\"wrap pt15 pl20 pr20 pb20\" data-v-684844b4>","</div>",[_vm._ssrNode(((_vm.isDown)?("<div class=\"fs14 textCenter mt7 f500\" data-v-684844b4>"+_vm._ssrEscape("\n        "+_vm._s("解锁活动已结束啦")+"\n      ")+"</div>"):(((_vm.isShare)?("<div class=\"fs14 textCenter mt7 f500\" data-v-684844b4>"+_vm._ssrEscape("\n            "+_vm._s("请为我打call")+"\n          ")+"</div> <div class=\"fs14 textCenter f500\" data-v-684844b4>"+_vm._ssrEscape("\n            "+_vm._s("助我免费解锁活动吧")+"\n          ")+"</div>"):(((!_vm.data.own)?("<div class=\"fs16 textCenter f600 title\" data-v-684844b4>\n              解锁规则\n            </div> <div class=\"fs14 textCenter mt7 f500\" data-v-684844b4>"+_vm._ssrEscape("\n              "+_vm._s(("1,在" + (_vm.data.call.ts) + "小时内完成解锁"))+"\n            ")+"</div> <div class=\"fs14 textCenter f500\" data-v-684844b4>"+_vm._ssrEscape("\n              "+_vm._s(("2,快邀请" + (_vm.data.call.numCond) + "个好友为你助力解锁" + (_vm.isNewcomer ? '(仅限新用户)' : '')))+"\n            ")+"</div>"):(((_vm.isSuccess)?("<div class=\"fs14 textCenter pt10 f500\" data-v-684844b4>"+_vm._ssrEscape("\n              "+_vm._s("已助力完成啦")+"\n            ")+"</div>"):(_vm.isEnd)?("<div class=\"fs14 textCenter pt10 f500\" data-v-684844b4>"+_vm._ssrEscape("\n              "+_vm._s("解锁未完成")+"\n            ")+"</div>"):("<div class=\"fs14 textCenter pt10 f500\" data-v-684844b4>"+_vm._ssrEscape("\n              "+_vm._s(("快邀请" + (_vm.data.call.numCond) + "个好友为你助力解锁" + (_vm.isNewcomer ? '(仅限新用户)' : '')))+"\n            ")+"</div>"))))))))+" "+((_vm.isDown)?("<div class=\"mt12 firstFriendWrap\" data-v-684844b4>\n        打call已结束啦，下次早点来\n      </div>"):(_vm.isShare && _vm.isSuccess)?("<div class=\"mt12 firstFriendWrap\" data-v-684844b4>\n        您的好友已经解锁成功啦\n      </div>"):(_vm.isShare && _vm.isEnd)?("<div class=\"mt12 firstFriendWrap\" data-v-684844b4>\n        打call已结束啦，下次早点来\n      </div>"):(_vm.isShare && _vm.data.canHelp && !_vm.data.helps)?("<div class=\"mt12 firstFriendWrap\" data-v-684844b4>\n        快来成为第1个助力的好友吧 \n      </div>"):(!_vm.isShare && _vm.isEnd)?("<div class=\"mt12 firstFriendWrap\" data-v-684844b4>"+_vm._ssrEscape("\n        "+_vm._s("解锁未完成")+"\n      ")+"</div>"):("<ul class=\"friendWrap pt5 mt20 mb20\" data-v-684844b4>"+(_vm._ssrList((_vm.data.call.numCond),function(item,index){return ("<li data-v-684844b4><img"+(_vm._ssrAttr("src",_vm.changeImg(index, 'avatar')))+" width=\"45\" height=\"45\" class=\"avatar\" data-v-684844b4> <div class=\"fs14 c-666 oneLine\" data-v-684844b4>"+_vm._ssrEscape("\n            "+_vm._s(_vm.changeImg(index, 'nickname'))+"\n          ")+"</div></li>")}))+"</ul>"))+" "),(_vm.isDown)?_c('van-button',{staticClass:"joinBtn",on:{"click":_vm.finishClick}},[_vm._v("\n        返回\n      ")]):[(!_vm.isShare && !_vm.data.own)?[_c('van-button',{staticClass:"joinBtn",on:{"click":_vm.joinClick}},[_vm._v("\n            我要参加\n          ")]),_vm._v(" "),_c('van-button',{staticClass:"buyBtn",on:{"click":_vm.buyClick}},[_vm._v("\n            直接购买\n          ")])]:(!_vm.isShare && _vm.data.own)?[(_vm.isSuccess)?[(_vm.data.record.status === 1)?_c('van-button',{staticClass:"joinBtn mt10",on:{"click":_vm.finishClick}},[_vm._v("\n              "+_vm._s(_vm.recordId ? '去学习课程': '立即解锁')+"\n            ")]):_c('van-button',{staticClass:"joinBtn mt10",on:{"click":_vm.goFinishClick}},[_vm._v("\n              立即解锁\n            ")])]:(_vm.isEnd)?[_c('van-button',{staticClass:"joinBtn mt10",on:{"click":_vm.joinClick}},[_vm._v("\n              再次发起集call\n            ")])]:[_c('van-button',{staticClass:"joinBtn mt10",on:{"click":_vm.posterClick}},[_vm._v("\n              生成海报\n            ")]),_vm._v(" "),_c('van-button',{staticClass:"buyBtn mt10",on:{"click":_vm.inviteClick}},[_vm._v("\n              邀请好友  \n            ")])]]:(_vm.isShare)?[(_vm.data.canHelp && !_vm.data.helps && !_vm.isEnd)?_c('div',{staticClass:"c-666 fs14 textCenter mt12"},[_vm._v("\n            快来成为第1个助力好友吧\n          ")]):_vm._e(),_vm._v(" "),(!_vm.data.canHelp && !_vm.isEnd)?_c('div',{staticClass:"c-666 fs14 textCenter mt12"},[_vm._v("\n            你已经为好友打过call了\n          ")]):_vm._e(),_vm._v(" "),(_vm.data.canHelp && !_vm.isEnd && !_vm.isSuccess)?_c('van-button',{staticClass:"joinBtn mt10",on:{"click":_vm.callClick}},[_vm._v("\n            为他打call\n          ")]):_c('van-button',{class:['joinBtn', 'mt10'],on:{"click":_vm.freeClick}},[_vm._v("\n            我也要免费学习\n          ")]),_vm._v(" "),(!_vm.data.canHelp)?_c('van-button',{staticClass:"buyBtn mt10",on:{"click":_vm.finishClick}},[_vm._v("\n            返回课程  \n          ")]):_vm._e()]:_vm._e()]],2)],2),_vm._ssrNode(" "),_c('van-popup',{style:({ width: '90%' }),model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:"show"}},[_c('div',{staticClass:"popup c-333 pt15 pb15 pl20 pr20"},[_c('div',{staticClass:"f600 fs18 textCenter"},[_vm._v("\n        活动说明\n      ")]),_vm._v(" "),_c('van-icon',{staticClass:"closeIcon",attrs:{"name":"close"},on:{"click":function($event){_vm.show=false}}}),_vm._v(" "),_c('ul',{staticClass:"fs14"},_vm._l((_vm.modalData),function(item,index){return _c('li',{key:index,staticClass:"mt12"},[_vm._v("\n          "+_vm._s(item)+"\n        ")])}),0),_vm._v(" "),_c('div',{staticClass:"tips"},[_vm._v("\n        *本活动最终解释权归艾思云课堂平台所有\n      ")])],1)]),_vm._ssrNode(" "),(_vm.isUpdate)?_c('ThirdShare',{ref:"ThirdShare",attrs:{"shareOption":_vm.shareOption}}):_vm._e()],2):_vm._e()}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/courseCall/_id.vue?vue&type=template&id=684844b4&scoped=true&

// EXTERNAL MODULE: ./api/course.js
var course = __webpack_require__(74);

// EXTERNAL MODULE: ./mixins/WeChatShare.vue + 4 modules
var WeChatShare = __webpack_require__(78);

// EXTERNAL MODULE: ./config/common.config.js
var common_config = __webpack_require__(2);

// EXTERNAL MODULE: external "ais-common-utils"
var external_ais_common_utils_ = __webpack_require__(3);

// EXTERNAL MODULE: ./components/Common/ThirdShare.vue + 4 modules
var ThirdShare = __webpack_require__(87);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/courseCall/_id.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//





/* harmony default export */ var _idvue_type_script_lang_js_ = ({
  components: {
    ThirdShare: ThirdShare["a" /* default */]
  },
  mixins: [WeChatShare["a" /* default */]],

  data() {
    return {
      data: {},
      activityId: this.$route.params.id,
      recordId: this.$route.query.recordId || null,
      show: false,
      config: common_config["a" /* default */],
      currentTime: parseInt(new Date().getTime() / 1000),
      //获取当前时间
      timer: null,
      //计时器
      isUpdate: true
    };
  },

  computed: {
    //是非需要新人解锁
    isNewcomer() {
      return this.data && this.data.call && this.data.call.newcomer;
    },

    //规则
    modalData() {
      return [`1、收集指定好友数为你打call（须为${this.isNewcomer ? '新' : '注册'}用户）即可免费解锁课程优惠券。`, '2、每一个用户在同一个课程中，仅能为一位好友打call', '3、活动结束后则不能打call', '4、活动未在规定时间内解锁完成，可再次发起打call'];
    },

    //课程名称
    courseName() {
      if (!this.data || !this.data.call) {
        return '';
      }

      return this.data.call.period === 0 ? this.data.call.courseName : `${this.data.call.courseName}(第${this.data.call.period}期)`;
    },

    //优惠倒计时
    endTime() {
      return function (tg) {
        if (!this.data || !this.data.record || !this.data.record.end) {
          return null;
        }

        const endTime = Object(external_ais_common_utils_["countTime"])(this.data.record.end * 1000, this.currentTime * 1000, tg);
        return this.data.record.end < this.currentTime ? 0 : endTime;
      };
    },

    //助力者身份
    isShare() {
      return this.recordId && !this.data.own;
    },

    //活动下架
    isDown() {
      return this.data && this.data.call && (this.data.call.status === 0 || this.data.call.start > this.currentTime || this.data.call.end > 0 && this.data.call.end < this.currentTime);
    },

    //打call成功(status=1,或者邀请人数大于设定的人数，并且在end时间内)
    isSuccess() {
      if (!this.data || !this.data.record) {
        return false;
      }

      return this.data.record.status === 1 || this.data.record.invite >= this.data.call.numCond && this.currentTime < this.data.record.end;
    },

    //活动倒计时结束
    isEnd() {
      if (!this.data || !this.data.record || !this.data.record.end) {
        return false;
      }

      return !this.isSuccess && (this.data.record.status === 4 || this.currentTime > this.data.record.end);
    },

    //分享设置
    shareOption() {
      if (!Object.keys(this.data).length) {
        return '';
      }

      let shareConfig = {}; //用任务id，就分享邀请链接

      if (this.data.record && this.data.record.id) {
        shareConfig = {
          desc: this.data.call.share,
          link: `${window.location.origin}/courseCall/${this.$route.params.id}?recordId=${this.data.record.id}`
        };
      }

      return {
        title: this.courseName,
        desc: `我已参加这个课程，你也来一起参加吧!`,
        imgUrl: `${common_config["a" /* default */].IMG_URL.default}${this.data.call.poster}`,
        link: `${window.location.origin}/courseDetail/${this.data.call.courseId}`,
        ...shareConfig
      };
    }

  },

  mounted() {
    this.getListHandle();
    this.timer = setInterval(() => {
      this.getCurrentTime();
    }, 1000);
  },

  beforeDestroy() {
    clearInterval(this.timer);
  },

  methods: {
    //获取当前时间
    getCurrentTime() {
      this.currentTime = parseInt(new Date().getTime() / 1000);
    },

    async getListHandle() {
      const params = this.recordId ? `${this.activityId}/${this.recordId}` : this.activityId;
      const {
        data
      } = await Object(course["h" /* getCallIndex */])(params);

      if (data.code === 0) {
        this.data = data.data;
      }
    },

    //参加活动
    async joinClick() {
      const {
        data
      } = await Object(course["B" /* joinCall */])(this.data.call.id);

      if (data.code === 0) {
        await this.getListHandle();
        this.isUpdate = false;
        this.$nextTick(() => {
          this.isUpdate = true;
        });
      }
    },

    //直接购买跳转支付页面
    buyClick() {
      if (!external_ais_common_utils_["storage"].get('userStatus')) {
        const url = encodeURIComponent(window.location.origin + `/courseOrder/${this.data.call.courseId}`);
        window.location.href = `${common_config["a" /* default */].POST.school_h5}/school/passport/login?mobile=1&state=${url}`;
        return;
      }

      this.$router.push({
        path: `/courseOrder/${this.data.call.courseId}`
      });
    },

    //生成海报
    posterClick() {
      this.$router.push({
        path: `/coursePoster/${this.data.record.id}?activityId=${this.activityId}`
      });
    },

    //邀请好友
    inviteClick() {
      this.$refs.ThirdShare.open();
    },

    //打call点击
    async callClick() {
      if (!external_ais_common_utils_["storage"].get('userStatus')) {
        const url = encodeURIComponent(window.location.origin + this.$route.fullPath);
        window.location.href = `${common_config["a" /* default */].POST.school_h5}/school/passport/login?mobile=1&state=${url}&event=v_c_${this.activityId}`;
        return;
      }

      const {
        data
      } = await Object(course["a" /* applyCall */])(this.recordId);

      if (data.code === 0) {
        this.$toast.success('助力成功!');
        this.getListHandle();
      }
    },

    //打call头像显示
    changeImg(index, key) {
      if (this.data.helps && this.data.helps.length && index < this.data.helps.length) {
        if (this.data.helps[index] && this.data.helps[index][key]) {
          return key === 'nickname' ? this.data.helps[index][key] : `${this.data.helps[index][key]}`;
        } else {
          return key === 'nickname' ? '' : __webpack_require__(528);
        }
      }

      return key === 'nickname' ? '' : __webpack_require__(529);
    },

    freeClick() {
      window.location.replace(`/courseCall/${this.activityId}`);
    },

    finishClick() {
      this.$router.push({
        path: `/courseDetail/${this.data.call.courseId}`
      });
    },

    //立即解锁
    async goFinishClick() {
      const {
        data
      } = await Object(course["C" /* lockCall */])(this.data.record.id);

      if (data.code === 0) {
        this.$toast.success('解锁成功!');
        this.finishClick();
      }
    }

  },

  head() {
    return {
      title: '集call免费学 --艾思云课堂'
    };
  }

});
// CONCATENATED MODULE: ./pages/courseCall/_id.vue?vue&type=script&lang=js&
 /* harmony default export */ var courseCall_idvue_type_script_lang_js_ = (_idvue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./pages/courseCall/_id.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(530)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  courseCall_idvue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "684844b4",
  "77bc7d4a"
  
)

/* harmony default export */ var _id = __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 74:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "g", function() { return getAllCourseData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "n", function() { return getCourseDetail; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "q", function() { return getCourseLiveDetail; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "D", function() { return reportCourseLived; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "d", function() { return collectCourse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "r", function() { return getCourseMsg; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "z", function() { return getShareConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "A", function() { return getShareWXConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "b", function() { return applyFreeCourse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "s", function() { return getCourseOrder; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "w", function() { return getHomeTops; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "c", function() { return buyCourse; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "l", function() { return getCourseCarryFee; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "p", function() { return getCourseLink; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "u", function() { return getForumFirstComment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "v", function() { return getForumSecondComment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "F", function() { return submitForumComment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "E", function() { return sendComment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "k", function() { return getCommentList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "G", function() { return submitProblem; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "x", function() { return getLoadPushMsg; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "o", function() { return getCourseLastBuy; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "e", function() { return courseDownlaod; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "f", function() { return courseShareCallBack; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "t", function() { return getCourseQrCode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "j", function() { return getClockRecordList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "m", function() { return getCourseClockInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "i", function() { return getClockComment; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "y", function() { return getProblemHistory; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "h", function() { return getCallIndex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "B", function() { return joinCall; });
/* unused harmony export getCallPoster */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return applyCall; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "C", function() { return lockCall; });
/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(7);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(70);
/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(qs__WEBPACK_IMPORTED_MODULE_1__);
/**课程接口 */

 //获取课程页数据

const getAllCourseData = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/courses`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params));
}; //获取课程详情

const getCourseDetail = (courseId, params) => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/detail/${courseId}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params));
}; //获取播放页详情

const getCourseLiveDetail = (id, params) => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/play/${id}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params));
}; //播放事件上报

const reportCourseLived = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/report/${params.courseId}/${params.liveId}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params.options));
}; //收藏

const collectCourse = (courseId, favorite) => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/favorite/favorite/${courseId}/${favorite}`);
}; //获取课程额外的信息

const getCourseMsg = courseId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/info/${courseId}`);
};
/**分享*/

const getShareConfig = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/service/app/mp/makeJsMap`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params), {
    custom: {
      // 自定义的额外参数
      isAis: true
    }
  });
};
const getShareWXConfig = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/service/app/mp/makeJsMap`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params));
}; //免费课程报名

const applyFreeCourse = courseId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/apply/free/${courseId}`);
}; //获取确认订单页面详情

const getCourseOrder = courseId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/trade/index/${courseId}`);
}; //获取推荐课程

const getHomeTops = () => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/home/tops`);
}; //下单购买

const buyCourse = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/trade/buy/${params.courseId}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params.options));
}; //获取推广佣金

const getCourseCarryFee = courseId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/promotion/${courseId}/carryFee`);
}; //获取课程推广链接

const getCourseLink = courseId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].get(`/school/course/promotion/${courseId}/link`);
}; //获取课程讨论区一级列表

const getForumFirstComment = parmas => {
  let {
    courseId,
    ...rest
  } = parmas;
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/comment/list/${courseId}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(rest));
}; //获取课程讨论区二级列表

const getForumSecondComment = parmas => {
  let {
    courseId,
    parentId
  } = parmas;
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/comment/subList/${courseId}/${parentId}`);
}; //提交讨论区评论

const submitForumComment = parmas => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/comment/submit`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(parmas));
}; //课程发表评论

const sendComment = params => {
  let {
    courseId,
    ...rest
  } = params;
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/score/submit/${courseId}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(rest));
}; //获取课程评论

const getCommentList = params => {
  let {
    courseId,
    ...rest
  } = params;
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/score/list/${courseId}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(rest));
}; //购买成功页，问答提交

const submitProblem = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/apply/problem/save`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params));
}; //获取播放页推荐信息

const getLoadPushMsg = params => {
  const {
    courseId,
    liveId
  } = params;
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/loadPush/${courseId}/${liveId}`);
}; //获取最新购买课程用户信息

const getCourseLastBuy = courseId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/score/latestBuy/${courseId}`);
}; //课件下载

const courseDownlaod = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/down/document/${params.courseId}/${params.liveId}`);
}; //课程分享回调

const courseShareCallBack = courseId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/course/callback/${courseId}`);
}; //获取课程客服二维码

const getCourseQrCode = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/trade/complete`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params));
}; //打卡-课程打卡记录列表

const getClockRecordList = (courseId, params) => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/clock/record/list/${courseId}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params));
}; // 打卡课程详情

const getCourseClockInfo = courseId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/clock/main/course/info/${courseId}`);
}; //打卡-打卡评价列表

const getClockComment = (recordId, params) => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/clock/record/comment/list/${recordId}`, qs__WEBPACK_IMPORTED_MODULE_1___default.a.stringify(params));
}; //课程回答历史

const getProblemHistory = () => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/student/apply/problem/history`);
}; //集call活动首页

const getCallIndex = params => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/activity/call/index/${params}`);
}; //集call活动参加

const joinCall = activityId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/activity/call/join/${activityId}`);
}; //集call活动海报

const getCallPoster = ({
  recordId,
  index
}) => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/activity/call/poster/${recordId}/${index}`);
}; //集call活动打call

const applyCall = recordId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/activity/call/help/${recordId}`);
}; //集call活动手动解锁

const lockCall = recordId => {
  return _utils_request__WEBPACK_IMPORTED_MODULE_0__[/* default */ "a"].post(`/school/activity/call/unlock/${recordId}`);
};

/***/ }),

/***/ 75:
/***/ (function(module, exports, __webpack_require__) {

// style-loader: Adds some css to the DOM by adding a <style> tag

// load the styles
var content = __webpack_require__(86);
if(typeof content === 'string') content = [[module.i, content, '']];
if(content.locals) module.exports = content.locals;
// add CSS to SSR context
var add = __webpack_require__(5).default
module.exports.__inject__ = function (context) {
  add("1f671aba", content, true, context)
};

/***/ }),

/***/ 78:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./mixins/WeChatShare.vue?vue&type=template&id=59a3d46c&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[])}
var staticRenderFns = []


// CONCATENATED MODULE: ./mixins/WeChatShare.vue?vue&type=template&id=59a3d46c&

// EXTERNAL MODULE: ./config/common.config.js
var common_config = __webpack_require__(2);

// EXTERNAL MODULE: ./api/course.js
var course = __webpack_require__(74);

// EXTERNAL MODULE: external "ais-common-utils"
var external_ais_common_utils_ = __webpack_require__(3);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./mixins/WeChatShare.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//



/* harmony default export */ var WeChatSharevue_type_script_lang_js_ = ({
  methods: {
    /**微信分享 */
    async getWechatShare(courseId) {
      await Object(external_ais_common_utils_["dynamicScript"])(`${common_config["a" /* default */].staticUrl}/jweixin-1.4.0.js`, 'wx');
      const params = {
        url: window.location.href
      };
      const {
        data
      } = this.isVideoWeChat ? await Object(course["A" /* getShareWXConfig */])(params) : await Object(course["z" /* getShareConfig */])(params);

      if (data.code === 0) {
        window.wx.config({
          appId: data.data.appid,
          timestamp: data.data.timestamp,
          nonceStr: data.data.noncestr,
          signature: data.data.signature,
          jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage', 'onMenuShareQQ', 'onMenuShareWeibo', 'onMenuShareQZone', 'showOptionMenu', 'hideAllNonBaseMenuItem', 'showAllNonBaseMenuItem']
        });
        window.wx.ready(() => {
          //设置微信内QQ & 微信分享参数
          const share = { ...this.shareOption,
            success: () => {
              this.show = false; //课程分享回调

              if (courseId) {
                Object(course["f" /* courseShareCallBack */])(courseId);
              }
            },
            cancel: () => {
              this.show = false;
            }
          }; //自定义分享给朋友

          window.wx.onMenuShareAppMessage({ ...share
          }); //自定义分享给QQ

          window.wx.onMenuShareQQ({ ...share
          }); //自定义分享到腾讯微博

          window.wx.onMenuShareWeibo({ ...share
          }); //自定义分享到QQ空间

          window.wx.onMenuShareQZone({ ...share
          }); //自定义分享到朋友圈

          window.wx.onMenuShareTimeline({ ...share
          }); // //自定义“分享给朋友”及“分享到QQ”按钮的分享内容
          // window.wx.updateAppMessageShareData({ 
          //   ...share
          // })
          // //自定义“分享到朋友圈”及“分享到QQ空间”按钮的分享内容
          // window.wx.updateTimelineShareData({
          //   ...share
          // })
        });
      }
    }

  }
});
// CONCATENATED MODULE: ./mixins/WeChatShare.vue?vue&type=script&lang=js&
 /* harmony default export */ var mixins_WeChatSharevue_type_script_lang_js_ = (WeChatSharevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./mixins/WeChatShare.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  mixins_WeChatSharevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "0a081bca"
  
)

/* harmony default export */ var WeChatShare = __webpack_exports__["a"] = (component.exports);

/***/ }),

/***/ 79:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/point.2a5c52f.png";

/***/ }),

/***/ 82:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/wechat.0f68c5c.png";

/***/ }),

/***/ 83:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/qq.656b905.png";

/***/ }),

/***/ 84:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/weibo.a845cb5.png";

/***/ }),

/***/ 85:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_ThirdShare_vue_vue_type_style_index_0_id_1bf14d3f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(75);
/* harmony import */ var _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_ThirdShare_vue_vue_type_style_index_0_id_1bf14d3f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_ThirdShare_vue_vue_type_style_index_0_id_1bf14d3f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_ThirdShare_vue_vue_type_style_index_0_id_1bf14d3f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__) if(["default"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_ThirdShare_vue_vue_type_style_index_0_id_1bf14d3f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_node_modules_vue_style_loader_index_js_ref_5_oneOf_1_0_node_modules_css_loader_dist_cjs_js_ref_5_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_5_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_5_oneOf_1_3_node_modules_sass_resources_loader_lib_loader_js_ref_5_oneOf_1_4_node_modules_vue_loader_lib_index_js_vue_loader_options_ThirdShare_vue_vue_type_style_index_0_id_1bf14d3f_lang_less_scoped_true___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 86:
/***/ (function(module, exports, __webpack_require__) {

// Imports
var ___CSS_LOADER_API_IMPORT___ = __webpack_require__(4);
exports = ___CSS_LOADER_API_IMPORT___(false);
// Module
exports.push([module.i, ".box[data-v-1bf14d3f]{display:flex;justify-content:space-around;align-items:center;padding:.26667rem 0}.img[data-v-1bf14d3f]{height:1.06667rem}.modal[data-v-1bf14d3f]{background:#fefefe;padding:.13333rem .53333rem}.modalContent[data-v-1bf14d3f]{height:2.66667rem;padding:.13333rem;background:#f5f5f5;word-break:break-all}.wechatPoint[data-v-1bf14d3f]{position:fixed;top:0;left:0;z-index:2001;width:100%;height:100%;background-color:rgba(0,0,0,.7)}.wechatPoint .wechatImg[data-v-1bf14d3f]{width:6.45333rem;height:9.68rem;float:right;margin-right:.53333rem}", ""]);
// Exports
module.exports = exports;


/***/ }),

/***/ 87:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./components/Common/ThirdShare.vue?vue&type=template&id=1bf14d3f&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.isWeChat)?_vm._ssrNode("<div class=\"wechatPoint\""+(_vm._ssrStyle(null,null, { display: (_vm.show) ? '' : 'none' }))+" data-v-1bf14d3f>","</div>",[_vm._ssrNode("<img"+(_vm._ssrAttr("src",__webpack_require__(79)))+" class=\"wechatImg\" data-v-1bf14d3f>")],2):_c('van-popup',{attrs:{"position":"bottom"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:"show"}},[_c('div',{staticClass:"box"},[_c('img',{staticClass:"img",attrs:{"src":__webpack_require__(82)},on:{"click":function($event){return _vm.itemClick('wechat')}}}),_vm._v(" "),_c('img',{staticClass:"img",attrs:{"src":__webpack_require__(83)},on:{"click":function($event){return _vm.itemClick('qq')}}}),_vm._v(" "),_c('img',{staticClass:"img",attrs:{"src":__webpack_require__(84)},on:{"click":function($event){return _vm.itemClick('weibo')}}})])]),_vm._ssrNode(" "),_c('van-popup',{style:({ width: '80%' }),attrs:{"round":""},model:{value:(_vm.copyShow),callback:function ($$v) {_vm.copyShow=$$v},expression:"copyShow"}},[_c('div',{staticClass:"modal textCenter"},[_c('div',{staticClass:"fs16 "},[_vm._v("\n        链接已复制\n      ")]),_vm._v(" "),_c('div',{staticClass:"modalContent fs12 mt20"},[_vm._v("\n        "+_vm._s(_vm.url)+"\n      ")]),_vm._v(" "),_c('van-button',{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:(_vm.url),expression:"url",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:(_vm.onCopySuccess),expression:"onCopySuccess",arg:"success"}],staticClass:"fs12 c-ff mt20",attrs:{"id":"copyBtn","type":!_vm.isQQ ? 'primary' : 'danger',"size":"small"}},[_vm._v("\n        去"+_vm._s(_vm.isQQ ? "QQ" : "微信")+"粘贴给好友\n      ")])],1)])],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/Common/ThirdShare.vue?vue&type=template&id=1bf14d3f&scoped=true&

// EXTERNAL MODULE: ./mixins/WeChatShare.vue + 4 modules
var WeChatShare = __webpack_require__(78);

// EXTERNAL MODULE: external "ais-common-utils"
var external_ais_common_utils_ = __webpack_require__(3);

// EXTERNAL MODULE: ./api/course.js
var course = __webpack_require__(74);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/vue-loader/lib??vue-loader-options!./components/Common/ThirdShare.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//



/* harmony default export */ var ThirdSharevue_type_script_lang_js_ = ({
  mixins: [WeChatShare["a" /* default */]],
  props: {
    shareOption: {
      type: Object,
      required: true
    }
  },

  data() {
    return {
      data: [{
        title: "wechat"
      }, {
        title: "qq"
      }, {
        title: "weibo"
      }],
      url: null,
      copyShow: false,
      isQQ: true,
      isWeChat: false,
      //判断是否微信
      show: false //第三方分享弹窗显示

    };
  },

  mounted() {
    this.url = this.shareOption.link || window.location.href;
    this.isWeChat = Object(external_ais_common_utils_["isWeChat"])();

    if (this.isWeChat) {
      this.getWechatShare(this.shareOption.courseId);
    }
  },

  methods: {
    open() {
      this.show = true;
    },

    //课程分享回调
    courseShareCallBack() {
      if (this.shareOption.courseId) Object(course["f" /* courseShareCallBack */])(this.shareOption.courseId);
    },

    onCopySuccess() {
      this.$toast.success("复制成功");
      this.copyShow = false; //课程分享回调

      this.courseShareCallBack();
    },

    //分享图标点击
    itemClick(value) {
      if (value === "wechat" || value === "qq") {
        this.copyShow = true;
        this.isQQ = value === "qq";
      }

      if (value === "weibo") {
        const share = {
          title: this.shareOption.title,
          image_url: this.shareOption.imgUrl,
          share_url: window.location.href
        };
        location.replace("https://service.weibo.com/share/share.php?url=" + encodeURIComponent(share.share_url) + "&title=" + share.title + "&pic=" + share.image_url + "&searchPic=true"); //课程分享回调

        this.courseShareCallBack();
      }

      this.show = false;
    }

  }
});
// CONCATENATED MODULE: ./components/Common/ThirdShare.vue?vue&type=script&lang=js&
 /* harmony default export */ var Common_ThirdSharevue_type_script_lang_js_ = (ThirdSharevue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(1);

// CONCATENATED MODULE: ./components/Common/ThirdShare.vue



function injectStyles (context) {
  
  var style0 = __webpack_require__(85)
if (style0.__inject__) style0.__inject__(context)

}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  Common_ThirdSharevue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "1bf14d3f",
  "99a46c62"
  
)

/* harmony default export */ var ThirdShare = __webpack_exports__["a"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=_id.js.map