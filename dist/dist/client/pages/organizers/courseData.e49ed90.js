(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1056:function(t,e,n){"use strict";var r={data:function(){return{pagination:{current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["5","10","15","20","30","40"],showTotal:function(t){return" 共".concat(t,"条")}}}},methods:{resetPage:function(){this.pagination.current=1,this.pagination.total=0},handleTableChange:function(t){this.pagination=t,this.getListHand&&this.getListHand()},handlePaginatChange:function(t,e){this.pagination.current=t,this.pagination.pageSize=e,this.getListHand&&this.getListHand(),this.$backScrollTop()},setTotalHandle:function(data,t,e){this.pagination.total=+data.data.total,this.pagination.total&&!data.data[t].length?(this.pagination.current=this.pagination.current-1,this.getListHand&&this.getListHand()):e()}}},o=n(18),component=Object(o.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("div")}),[],!1,null,null,null);e.a=component.exports},1070:function(t,e,n){"use strict";n.d(e,"H",(function(){return d})),n.d(e,"v",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"n",(function(){return v})),n.d(e,"u",(function(){return m})),n.d(e,"C",(function(){return y})),n.d(e,"i",(function(){return C})),n.d(e,"t",(function(){return _})),n.d(e,"r",(function(){return x})),n.d(e,"q",(function(){return w})),n.d(e,"s",(function(){return D})),n.d(e,"G",(function(){return O})),n.d(e,"F",(function(){return k})),n.d(e,"B",(function(){return j})),n.d(e,"I",(function(){return I})),n.d(e,"l",(function(){return S})),n.d(e,"N",(function(){return $})),n.d(e,"d",(function(){return z})),n.d(e,"L",(function(){return T})),n.d(e,"M",(function(){return L})),n.d(e,"f",(function(){return R})),n.d(e,"w",(function(){return F})),n.d(e,"h",(function(){return P})),n.d(e,"e",(function(){return H})),n.d(e,"g",(function(){return M})),n.d(e,"J",(function(){return A})),n.d(e,"K",(function(){return E})),n.d(e,"A",(function(){return B})),n.d(e,"x",(function(){return N})),n.d(e,"z",(function(){return K})),n.d(e,"y",(function(){return Y})),n.d(e,"a",(function(){return V})),n.d(e,"c",(function(){return J})),n.d(e,"j",(function(){return Q})),n.d(e,"b",(function(){return W})),n.d(e,"m",(function(){return U})),n.d(e,"p",(function(){return G})),n.d(e,"D",(function(){return X})),n.d(e,"E",(function(){return Z})),n.d(e,"o",(function(){return tt}));var r=n(1063),o=n(19),c=n(30),l=n.n(c),d=function(t){return o.a.post("/school/lecturer/course/previewTime/".concat(t.courseId,"/").concat(t.liveId),l.a.stringify(t.info))},f=function(t){return o.a.post("/school/lecturer/play/live/".concat(t.courseId,"/").concat(t.liveId))},h=function(t){return o.a.post("/school/lecturer/course/create",l.a.stringify(t))},v=function(t){return o.a.post("/school/lecturer/course/save/".concat(t.id),l.a.stringify(t))},m=function(t){return o.a.post("/school/lecturer/course/list",l.a.stringify(t))},y=function(t){return o.a.post("/school/lecturer/course/delete/".concat(t))},C=function(t){return o.a.post("/school/lecturer/course/status/".concat(t.courseId,"/").concat(t.onStore))},_=function(t){return o.a.post("/school/lecturer/course/info/".concat(t))},x=function(t){return o.a.post("/school/lecturer/series/list",l.a.stringify(t))},w=function(t){return o.a.post("/school/lecturer/series/child/list/".concat(t.courseId),l.a.stringify(t.info))},D=function(t){return o.a.post("/school/lecturer/series/chapter/list/".concat(t))},O=function(t){return o.a.post("/school/lecturer/series/chapter/save/".concat(t.courseId),t.info,{headers:{"Content-Type":"application/json;charset=utf-8"}})},k=function(t){return o.a.post("/school/lecturer/series/child/save/".concat(t.courseId),l.a.stringify(t.info))},j=function(t){return o.a.post("/school/lecturer/series/child/delete/".concat(t.courseId,"/").concat(t.liveId))},I=function(t){return o.a.post("/school/lecturer/series/child/status/".concat(t.courseId,"/").concat(t.liveId,"/").concat(t.onStore))},S=function(){return o.a.post("/school/lecturer/home/index")},$=function(t){return o.a.post("/school/lecturer/home/trend",l.a.stringify(t))},z=function(t){return o.a.post("/school/lecturer/home/conversion",l.a.stringify(t))},T=function(t){return o.a.post("/school/lecturer/student/list",l.a.stringify(t))},L=function(t){var e=t.suserId,n=Object(r.a)(t,["suserId"]);return o.a.post("/school/lecturer/student/push/".concat(e),l.a.stringify(n))},R=function(t){return o.a.post("/school/lecturer/coupon/list",l.a.stringify(t))},F=function(t){return o.a.post("/school/lecturer/data/course/simple",l.a.stringify(t))},P=function(t){var e=t.courseId,n=Object(r.a)(t,["courseId"]);return o.a.post("/school/lecturer/coupon/save/".concat(e),l.a.stringify(n))},H=function(t){var e=t.courseId,n=t.couponId;return o.a.post("/school/lecturer/coupon/".concat(e,"/delete/").concat(n))},M=function(t){var e=t.couponId,n=Object(r.a)(t,["couponId"]);return o.a.post("/school/lecturer/coupon/effect/".concat(e),l.a.stringify(n))},A=function(){return o.a.post("/school/lecturer/promotion/statData")},E=function(t){return o.a.post("/school/lecturer/promotion/statList",l.a.stringify(t))},B=function(t){var e=t.courseId,n=Object(r.a)(t,["courseId"]);return o.a.post("/school/lecturer/promotion/".concat(e,"/order/list"),l.a.stringify(n))},N=function(t){return o.a.post("/school/lecturer/promotion/courses",l.a.stringify(t))},K=function(t){return o.a.post("/school/lecturer/promotion/".concat(t,"/config/info"))},Y=function(t){var e=t.courseId,n=Object(r.a)(t,["courseId"]);return o.a.post("/school/lecturer/promotion/".concat(e,"/config/save"),l.a.stringify(n))},V=function(t){return o.a.post("/school/lecturer/camp/list",l.a.stringify(t))},J=function(t){return o.a.post("/school/lecturer/camp/save",l.a.stringify(t))},Q=function(t){return o.a.post("/school/lecturer/course/copy/".concat(t))},W=function(t){var e=t.courseId,n=t.display;return o.a.post("/school/lecturer/camp/camp/".concat(e,"/").concat(n))},U=function(t){return o.a.post("/school/lecturer/series/live/documentUpload",t)},G=function(t){return o.a.post("/school/lecturer/activity/call/list",l.a.stringify(t))},X=function(t){return o.a.post("/school/lecturer/activity/call/save",l.a.stringify(t))},Z=function(t){var e=t.id,n=t.onStore;return o.a.post("/school/lecturer/activity/call/status/".concat(e,"/").concat(n))},tt=function(t){var e=t.activityId,n=Object(r.a)(t,["activityId"]);return o.a.post("/school/lecturer/activity/record/list/".concat(e),l.a.stringify(n))}},1104:function(t,e,n){},1105:function(t,e,n){},1129:function(t,e,n){},1178:function(t,e,n){"use strict";var r={props:{visible:{type:Boolean,required:!0},attr:{type:Object,default:function(){return{}}}},data:function(){return{maskStyle:{background:"#333333"}}}},o=(n(1208),n(1209),n(18)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-modal",t._b({staticClass:"commonModal",attrs:{visible:t.visible,destroyOnClose:"",footer:null},on:{cancel:function(e){return t.$emit("update:visible",!1)}}},"a-modal",t.attr,!1),[n("div",[t._t("body"),t._v(" "),t._t("foot",[n("div",{staticClass:"textCenter pt30 pb30"},[n("span",{staticClass:"btn confirmBtn c-fff c-main-btn inlineBlock vMiddle pt8 pb8 hand",on:{click:function(e){return t.$emit("confirmModalHandle")}}},[t._v("\n          确定\n        ")]),t._v(" "),n("span",{staticClass:"btn cancelBtn c-333 inlineBlock vMiddle ml35 pt8 pb8 hand",on:{click:function(e){return t.$emit("update:visible",!1)}}},[t._v("\n          取消\n        ")])])])],2)])}),[],!1,null,"5b8c9718",null);e.a=component.exports},1192:function(t,e,n){t.exports=n.p+"img/exceGraduate@2x.cabf6b9.png"},1208:function(t,e,n){"use strict";var r=n(1104);n.n(r).a},1209:function(t,e,n){"use strict";var r=n(1105);n.n(r).a},1274:function(t,e,n){"use strict";var r=n(1129);n.n(r).a},1280:function(t,e,n){"use strict";n(88),n(50),n(44),n(32),n(64);var r=n(41);function o(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var c={props:{data:{type:Array,default:function(){return[]}},activeKey:{type:String,default:""}},data:function(){return{type:""}},created:function(){!this.activeKey&&this.init()},methods:{init:function(){this.type=this.data.length&&this.data[0].key},handleChange:function(t){this.activeKey||(this.type=t.item.key),this.$emit("change",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},t))},_renderTitle:function(){var t=this,e=this.$createElement;return e("div",{class:"tabs"},[this.data.map((function(n,r){return e("div",{class:["tabItem",t.activeKey===n.key||t.type===n.key?"activeBg":null],on:{click:function(){t.handleChange({item:n,index:r})}}},[e("span",{class:[t.activeKey===n.key||t.type===n.key?"active":null]},n.title)])}))])},_renderSlot:function(){var t=this;return(0,this.$createElement)("div",{},[this.data.map((function(slot){if(t.activeKey===slot.key||t.type===slot.key)return t.$slots[slot.key]}))])},_renderTpl:function(){return(0,this.$createElement)("div",[this._renderTitle(),this._renderSlot()])}},render:function(){return this._renderTpl()}},l=(n(1274),n(18)),component=Object(l.a)(c,void 0,void 0,!1,null,"96cbc47e",null);e.a=component.exports},1407:function(t,e,n){},1443:function(t,e,n){},1444:function(t,e,n){},1445:function(t){t.exports=JSON.parse('[{"question":"您对艾思科蓝的了解?","ans":{"1":"A.第一次接触","2":"B.老朋友，以前有报过课程","3":"C.在艾思科蓝投过稿/参会，没有报过课程"},"id":"q1"},{"question":"您是从哪个途径了解课程信息?","ans":{"1":"A.公众号文章","2":"B.微信群/朋友圈","3":"C.朋友介绍","4":"D.百度搜索","5":"E.活动现场","6":"F.高校推广","7":"H.其他"},"id":"q2"},{"question":"您参加训练营之前对课程知识掌握程度?","ans":{"1":"A.小白一枚，完全没有学过","2":"B.有一定基础，希望通过训练营系统学习提升"},"id":"q3"},{"question":"您的专业领域是?","ans":{},"id":"q4"},{"question":"您的学科领域是?","ans":{},"id":"q5"},{"question":"您的学历 ?","ans":{"1":"在读硕士","2":"在读博士","3":"硕士","4":"博士","5":"本科"},"id":"q6"}]')},1446:function(t,e,n){},1447:function(t,e,n){},1448:function(t,e,n){t.exports=n.p+"img/classBg.eaa0547.png"},1449:function(t,e,n){t.exports=n.p+"img/promotion.573c31d.png"},1450:function(t,e,n){t.exports=n.p+"img/user.007ee06.png"},1451:function(t,e,n){t.exports=n.p+"img/success.e962f2b.png"},1452:function(t,e,n){t.exports=n.p+"img/tatal.ca35a72.png"},1453:function(t,e,n){t.exports=n.p+"img/brokerage.78e0c9d.png"},1454:function(t,e,n){},1455:function(t,e,n){},1525:function(t,e,n){"use strict";n(88),n(50),n(44),n(32),n(64);var r=n(41),o=n(1408),c=n.n(o);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={props:{config:{type:Object,required:!0}},computed:{options:function(){return{tooltip:{trigger:"axis"},grid:{top:"10%",left:"6%",right:"6%",bottom:"0%",containLabel:!0}}}},watch:{config:function(t){this.initChrat(d(d({},this.options),t))}},methods:{initChrat:function(t){c.a.init(document.getElementById("myChart")).setOption(t)}},render:function(){var t=arguments[0];return t("div",{attrs:{id:"myChart"},style:"width:100%;height:100%"})}},h=n(18),component=Object(h.a)(f,void 0,void 0,!1,null,null,null);e.a=component.exports},1759:function(t,e,n){"use strict";var r=n(1407);n.n(r).a},2054:function(t,e,n){"use strict";var r=n(1443);n.n(r).a},2055:function(t,e,n){t.exports=n.p+"img/diploma2x.b58207f.jpg"},2056:function(t,e,n){"use strict";var r=n(1444);n.n(r).a},2057:function(t,e,n){"use strict";var r=n(1446);n.n(r).a},2058:function(t,e,n){"use strict";var r=n(1447);n.n(r).a},2059:function(t,e,n){"use strict";var r=n(1454);n.n(r).a},2060:function(t,e,n){"use strict";var r=n(1455);n.n(r).a},2179:function(t,e,n){"use strict";n.r(e);n(88),n(50),n(44),n(32),n(64);var r=n(41),o=(n(43),n(17)),c=n(1063),l=n(19),d=n(30),f=n.n(d),h=function(t){return l.a.post("/school/lecturer/data/course/list",f.a.stringify(t))},v=function(t,e){return l.a.post("/school/lecturer/data/course/users/".concat(t),f.a.stringify(e))};function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C={data:function(){return{data:{}}},computed:{headerData:function(){return[{title:this.$t("courseData/CourseDataHeader_1",{zh:"最近一次直播时间"}),value:"lastLiveTime"},{title:this.$t("courseData/CourseDataHeader_2",{zh:"付费单课"}),value:"payCourse"},{title:this.$t("courseData/CourseDataHeader_3",{zh:"系列课程"}),value:"courseSeries"},{title:this.$t("courseData/CourseDataHeader_4",{zh:"免费单课"}),value:"freeCourse"},{title:"训练营课程",value:"campCourse"}]}},mounted:function(){this.getHeaderData()},methods:{getHeaderData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.post("/school/lecturer/data/course/index");case 2:n=e.sent,0===(data=n.data).code&&(t.data=y(y({},data.data.numData),{},{lastLiveTime:data.data.lastLiveTime}));case 5:case"end":return e.stop()}}),e)})))()}}},_=(n(1759),n(18)),x=Object(_.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-fff pt25 pb35 pl30 courseDataHeader"},t._l(t.headerData,(function(e,r){return n("div",{key:r,class:["headerItem","headerItem"+r,"c-fff","mr40"]},[n("div",{staticClass:"title"},[t._v("\n      "+t._s(e.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"value mt10 ml15"},[t._v("\n      "+t._s(0===r&&t.data[e.value]?t.$changeTime(t.data[e.value],"YYYY-MM-DD HH:mm:ss"):t.data[e.value]||0)+"\n    ")])])})),0)}),[],!1,null,"7994f482",null).exports,w=n(1408),D=n.n(w),O=n(1525),k=n(1070),j={components:{MyChart:O.a},data:function(){return{searchForm:{id:null},data:[],courseData:[]}},computed:{options:function(){return{tooltip:{trigger:"axis",formatter:function(t){return"".concat(t[1].axisValue,":<br/>").concat(t[1].data.toFixed(0),"%")}},grid:{top:"6%",left:"3%",right:"1%",bottom:"10%"},xAxis:[{data:["".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"0-10%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"11-20%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"21-30%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"31-40%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"41-50%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"51-60%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"61-70%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"71-80%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"81-90%"),"".concat(this.$t("courseData/CourseDataChart_2",{zh:"试听"}),"91-100%")],axisTick:{show:!0},axisLabel:{textStyle:{color:"rgba(0,0,0,0.65)"}},axisLine:{lineStyle:{color:["#E9E9E9"]}}}],yAxis:{axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!0,lineStyle:{color:["#E9E9E9"],type:"dashed"}},axisLabel:{color:"rgba(0,0,0,0.65)",formatter:"{value}%"}},series:[Object(r.a)({type:"bar",itemStyle:{normal:{color:"#ddd"}},silent:!0,barWidth:24,barGap:"-150%",data:this.data.map((function(t){return.8*t}))},"itemStyle",{color:"rgba(231,237,243,0.5)",barBorderRadius:[5,5,0,0]}),{type:"bar",barWidth:24,z:10,data:this.data,itemStyle:{color:"#FF4A7A",barBorderRadius:[5,5,0,0]}}]}}},watch:{options:function(){this.initChrat(this.options)}},mounted:function(){this.getCourseProgress()},methods:{initChrat:function(t){D.a.init(document.getElementById("myChart")).setOption(t)},getCourseProgress:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,data,r,o,c,i,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.courseData.length){e.next=7;break}return e.next=3,Object(k.w)({type:0,sceneType:1});case 3:n=e.sent,0===(data=n.data).code&&(t.courseData=data.data),t.courseData.length>0&&(t.searchForm.id=t.courseData[0].id);case 7:if(!t.searchForm.id){e.next=16;break}return e.next=10,f=t.searchForm.id,l.a.post("/school/lecturer/data/course/progress/".concat(f));case 10:for(r=e.sent,o=r.data,c=[],i=0;i<10;i++)c[i]=0;if(0===o.code&&o.data.length>0)for(o.data.forEach((function(t){var e=parseInt(t.total/10)>=10?9:parseInt(t.total/10);c[e]=c[e]+1})),d=0;d<c.length;d++)c[d]=c[d]/o.data.length*100;t.data=c;case 16:case"end":return e.stop()}var f}),e)})))()},handleChange:function(){this.getCourseProgress()}}},I=(n(2054),Object(_.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mt20 bg-fff pt20 pl30 pr82 CourseDataChart"},[n("a-row",{attrs:{type:"flex",justify:"space-between"}},[n("a-col",{attrs:{span:10}},[n("div",{staticClass:"c-333 fs16 f500 bLeft"},[t._v("\n        "+t._s(t.$t("courseData/CourseDataChart_1",{zh:"用户听课完播率分布情况"}))+"\n      ")])]),t._v(" "),t.courseData.length>0?n("a-col",{staticClass:"textRight",attrs:{span:10}},[n("a-select",{staticStyle:{width:"300px"},on:{change:t.handleChange},model:{value:t.searchForm.id,callback:function(e){t.$set(t.searchForm,"id",e)},expression:"searchForm.id"}},t._l(t.courseData,(function(e,r){return n("a-select-option",{key:r,attrs:{value:e.id}},[n("span",[t._v(t._s(e.name))]),e.period&&e.period>0?n("span",[t._v("（ 第"+t._s(e.period)+"期 ）")]):t._e()])})),1)],1):t._e()],1),t._v(" "),n("div",{staticClass:"chart"},[n("my-chart",{staticStyle:{width:"100%",height:"100%"},attrs:{config:t.options}})],1)],1)}),[],!1,null,"0186735b",null).exports),S=(n(89),n(1056)),$=(n(279),n(1048),n(1178));function z(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function T(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?z(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):z(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var L={components:{ModalCommon:$.a},mixins:[S.a],props:{courseRow:{type:Object,required:!0}},data:function(){var t=this;return{url:"",canvarsConf:{type:"title",tempType:2,userId:0,temp:[n(1192),n(2055)],title:"",content:"",name:"",certTime:0,number:0,storage:[]},defaultCanvarsConf:{},visibleLive:!1,certificateVis:!1,attrLive:{title:"",width:"1100px"},diplomaAttr:{title:"毕业证书",width:"1100px"},id:null,data:[],loading:!1,editVis:!1,src:"",nickname:"",period:0,columns:[{title:this.$t("courseData/CourseDataModal_1",{zh:"呢称"}),key:"nickname",dataIndex:"nickname",width:"20%",align:"center"},{title:this.$t("courseData/CourseDataModal_2",{zh:"购买价格"}),key:"fee",dataIndex:"fee",width:"20%",align:"center"},{title:this.$t("courseData/CourseDataModal_3",{zh:"用户完播率"}),key:"playRatio",dataIndex:"playRatio",width:"20%",align:"center",customRender:function(t){return(100*(t>1?1:t)).toFixed(2)+"%"}},{title:this.$t("courseData/CourseDataModal_4",{zh:"时间"}),key:"feeTime",dataIndex:"feeTime",width:"20%",align:"center",customRender:function(time){return t.$changeTime(time)}},{title:"毕业证书",key:"diploma",width:"20%",align:"center",scopedSlots:{customRender:"diploma"}}]}},computed:{inputAttr:function(){return{title:{title:"课程标题",name:"学员姓名",content:"编辑内容"}[this.canvarsConf.type],width:"500px"}},editConf:function(){return{placeholder:"title"===this.canvarsConf.type?"标题":"学员名字",maxLength:25}}},watch:{certificateVis:function(t){var e=this;if(t){var n=this.canvarsConf.temp;setTimeout((function(){var t=document.getElementById("canvas").getContext("2d");e.ctx=t,e.canvasDrawImage(n[e.canvarsConf.tempType-1],(function(){1===e.canvarsConf.tempType?e.college():e.diploma()}))}),0)}else this.canvarsConf=T(T({},this.defaultCanvarsConf),{},{storage:[]}),this.defaultCanvarsConf={}}},methods:{handleOpen:function(t){var e=t.id,n=t.name,r=t.period;this.id=e,this.period=r,this.$set(this.attrLive,"title",n),this.visibleLive=!0,this.getListHand()},getListHand:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=T(T({},t.pagination),{},{nickname:t.nickname,page:t.pagination.current}),e.next=3,v(t.id,n);case 3:r=e.sent,0===(data=r.data).code&&t.setTotalHandle(data,"entries",(function(){t.data=data.data.entries}));case 6:case"end":return e.stop()}}),e)})))()},verifyBadWord:function(content){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,code,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c={content:content},l.a.post("/school/common/badWord",f.a.stringify(c));case 2:if(n=e.sent,r=n.data,code=r.code,o=r.data.bad,0!==code||null===o){e.next=9;break}return t.$message.error("存在敏感字"),e.abrupt("return",!0);case 9:case"end":return e.stop()}var c}),e)})))()},certificateParams:function(){var t,e=this,n=this.canvarsConf,r=n.tempType,o=n.name,title=n.title,content=n.content,c=n.userId;return["name","title","content"].some((function(n){return t=n,2===e.canvarsConf.tempType?"content"!==n&&""===e.canvarsConf[n]:""===e.canvarsConf[n]}))?(this.$message.error("".concat(t,"字段没填好")),!1):{courseId:this.id,receiveId:c,content:content,title:title,surname:o,type:r}},previewCertificate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.certificateParams()){e.next=3;break}return e.abrupt("return");case 3:n=document.getElementById("canvas").toDataURL("image/png"),t.certificatePreview(n);case 5:case"end":return e.stop()}}),e)})))()},certificatePreview:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var img;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(img=new Image).src=t,window.open("","_blank").document.write(img.outerHTML);case 4:case"end":return e.stop()}}),e)})))()},sendCertificate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.certificateParams()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d=void 0,h=void 0,v=void 0,d=(o=n).courseId,h=o.receiveId,v=Object(c.a)(o,["courseId","receiveId"]),l.a.post("/school/lecturer/course/cert/save/".concat(d,"/").concat(h),f.a.stringify(v));case 5:r=e.sent,0===r.data.code&&(t.$message.success("发送成功"),t.getListHand(),t.certificateVis=!1,t.resetMoba(),t.canvarsConf.storage=[]);case 8:case"end":return e.stop()}var o,d,h,v}),e)})))()},certificateInfo:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,code,c,d,f,content,h,v,title,m;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,C=void 0,_=void 0,C=(y=t).courseId,_=y.receiveId,l.a.post("/school/lecturer/course/cert/info/".concat(C,"/").concat(_));case 2:r=n.sent,o=r.data,code=o.code,c=o.data,0===code&&("{}"===JSON.stringify(e.defaultCanvarsConf)&&(e.defaultCanvarsConf=T({},e.canvarsConf)),c.entity?(d=c.entity.detail,f=d.certTime,content=d.content,h=d.number,v=d.surname,title=d.title,m=d.type,e.setStorage({tempType:1,name:v,title:title,content:content,certTime:f,number:h}),e.setStorage({tempType:2,name:v,title:title,content:content,certTime:f,number:h}),e.canvarsConf=T(T({},e.canvarsConf),{},{certTime:f,number:h,tempType:m,name:v,title:title,content:content})):e.resetMoba(),e.certificateVis=!0);case 7:case"end":return n.stop()}var y,C,_}),n)})))()},generateUserCertificate:function(t){this.canvarsConf.userId=t,this.certificateInfo({courseId:this.courseRow.id,receiveId:t})},editMessage:function(t){this.editVis=!0,this.canvarsConf.type=t},editHandle:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("name"===e.canvarsConf.type){n.next=6;break}return n.next=3,e.verifyBadWord(e.canvarsConf[e.canvarsConf.type]);case 3:if(!n.sent){n.next=6;break}return n.abrupt("return");case 6:e.canvasDrawImage(e.canvarsConf.temp[Number(t)-1],(function(){2===t?e.diploma():e.college()})),e.editVis=!1;case 8:case"end":return n.stop()}}),n)})))()},selectTemp:function(t){var e=this;this.setStorage(this.canvarsConf),this.canvarsConf=T(T(T({},this.canvarsConf),this.getStorage(t)),{},{tempType:t}),this.canvasDrawImage(this.canvarsConf.temp[t-1],(function(){2===t?e.diploma():e.college()}))},canvasDrawImage:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},img=new Image;img.src=t,img.onload=function(){e.ctx.drawImage(img,0,0,582,450),e.ctx.save(),n()}},diploma:function(){var t=this.canvarsConf,title=t.title,e=t.name,n=t.certTime,r=t.number;n=n||(new Date).toLocaleDateString(),r=r||this.generateCertificate(),this.canvasDrawText(title,295,153,355,"#1573b5","center",18,500,this.ctx),this.canvasDrawText(e,295,190,120,"#000","center",22,500,this.ctx),this.canvasDrawText(n,130,310,120,"#3A3A3A","start",16,550,this.ctx),this.canvasDrawText("证书编号：".concat(r),295,390,240,"#3A3A3A","center",16,500,this.ctx)},college:function(){var t=this.canvarsConf,title=t.title,content=t.content,e=t.name,n=t.certTime,r=t.number;n=n||(new Date).toLocaleDateString(),r=r||this.generateCertificate(),this.canvasDrawText(title,540,133,440,"#0082CA","end",22,500,this.ctx),this.canvasDrawText(content,295,230,520,"#000","center",15,500,this.ctx),this.canvasDrawText(e,295,180,120,"#000","center",22,500,this.ctx),this.canvasDrawText(n,130,320,120,"#3A3A3A","start",16,550,this.ctx),this.canvasDrawText("证书编号：".concat(r),295,409,240,"#3A3A3A","center",16,500,this.ctx)},generateCertificate:function(){var t=new Date,e=String(t.getFullYear())+String(t.getMonth()+1)+String(t.getDate());return"AIS".concat(e).concat(this.canvarsConf.userId)},canvasDrawText:function(t,e,n,r,o,c,l,d,f){if(t){var h=t.split(""),v="",m=[];f.font="".concat(d," ").concat(l,"px SourceHanSerifCN"),f.fillStyle=o,f.textAlign=c;for(var y=0;y<h.length;y++)f.measureText(v).width<r||(m.push(v),v=""),v+=h[y];m.push(v);for(var C=0;C<m.length;C++)f.fillText(m[C],e,n+20*(C+1))}},setStorage:function(t){var e=t.tempType,title=t.title,n=t.name,content=t.content,r=t.certTime,o=t.number;this.canvarsConf.storage[e-1]={title:title,name:n,content:content,certTime:r,number:o}},getStorage:function(t){return this.canvarsConf.storage[t-1]||{title:"",name:"",content:"",certTime:0,number:0}},resetMoba:function(){this.canvarsConf=this.defaultCanvarsConf}}},R=(n(2056),Object(_.a)(L,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visibleLive?n("ModalCommon",{attrs:{visible:t.visibleLive,attr:t.attrLive},on:{"update:visible":function(e){t.visibleLive=e}}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-end","margin-bottom":"10px"}},[n("span",[t._v("昵称：")]),t._v(" "),n("a-input-search",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入昵称"},on:{search:t.getListHand},model:{value:t.nickname,callback:function(e){t.nickname=e},expression:"nickname"}})],1),t._v(" "),n("a-table",{attrs:{columns:t.columns,rowKey:function(t,e){return""+t.feeTime+e},dataSource:t.data,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"diploma",fn:function(e){return[n("span",{staticStyle:{color:"#4571FF",cursor:"pointer"},on:{click:function(n){return t.generateUserCertificate(e.userId)}}},[t._v("\n          "+t._s(t.period>0?"发送证书":"-")+"\n        ")])]}}],null,!1,3751041826)}),t._v(" "),n("div",{staticClass:"innerModal"},[n("ModalCommon",{attrs:{visible:t.certificateVis,attr:t.diplomaAttr},on:{"update:visible":function(e){t.certificateVis=e}}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("a-layout",[n("a-layout-sider",[n("div",{staticClass:"diplomaHandle"},[n("div",{staticClass:"top"},[n("a-button",{staticClass:"btn",attrs:{type:2===t.canvarsConf.tempType?"primary":""},on:{click:function(e){return t.selectTemp(2)}}},[t._v("\n                    毕业证书\n                  ")]),t._v(" "),n("a-button",{staticClass:"btn",attrs:{type:1===t.canvarsConf.tempType?"primary":""},on:{click:function(e){return t.selectTemp(1)}}},[t._v("\n                    优秀学员\n                  ")])],1),t._v(" "),n("div",{staticClass:"bottom"},[n("a-button",{staticClass:"btn f600",on:{click:function(e){return t.editMessage("title")}}},[n("a-icon",{attrs:{type:"edit"}}),t._v("课程标题\n                  ")],1),t._v(" "),n("a-button",{staticClass:"btn f600",on:{click:function(e){return t.editMessage("name")}}},[n("a-icon",{attrs:{type:"edit"}}),t._v("学员姓名\n                  ")],1),t._v(" "),1===t.canvarsConf.tempType?n("a-button",{staticClass:"btn f600",on:{click:function(e){return t.editMessage("content")}}},[n("a-icon",{attrs:{type:"edit"}}),t._v("文案编辑\n                  ")],1):t._e()],1)])]),t._v(" "),n("a-layout",[n("a-layout-content",[n("div",{staticStyle:{"text-align":"center"}},[n("canvas",{attrs:{id:"canvas",width:"582",height:"450"}})])])],1)],1),t._v(" "),n("ModalCommon",{attrs:{visible:t.editVis,attr:t.inputAttr},on:{"update:visible":function(e){t.editVis=e},confirmModalHandle:function(e){return t.editHandle(t.canvarsConf.tempType)}}},[n("div",{attrs:{slot:"body"},slot:"body"},["content"===t.canvarsConf.type?n("a-textarea",{attrs:{placeholder:"限定字数100字以内",maxLength:100,"auto-size":{minRows:3,maxRows:5}},model:{value:t.canvarsConf[t.canvarsConf.type],callback:function(e){t.$set(t.canvarsConf,t.canvarsConf.type,e)},expression:"canvarsConf[canvarsConf.type]"}}):n("a-input",t._b({model:{value:t.canvarsConf[t.canvarsConf.type],callback:function(e){t.$set(t.canvarsConf,t.canvarsConf.type,e)},expression:"canvarsConf[canvarsConf.type]"}},"a-input",t.editConf,!1))],1)])],1),t._v(" "),n("div",{staticClass:"certificateFooter",attrs:{slot:"foot"},slot:"foot"},[n("a-button",{staticClass:"mr10",staticStyle:{width:"95px",height:"40px","border-radius":"4px",color:"#4571FF",border:"1px solid #4571ff"},on:{click:t.previewCertificate}},[t._v("\n            预览\n          ")]),t._v(" "),n("a-button",{staticStyle:{width:"95px",height:"40px","border-radius":"4px"},attrs:{type:"primary"},on:{click:t.sendCertificate}},[t._v("\n            发送\n          ")])],1)])],1)],1),t._v(" "),n("div",{attrs:{slot:"foot"},slot:"foot"})]):t._e()}),[],!1,null,"b4774c70",null).exports),F=(n(278),n(91),n(106),n(196),n(90)),P=n(1445),H=n(76),M=n(42),A=n(20);function E(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function B(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?E(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):E(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var N={components:{ModalCommon:$.a},mixins:[S.a],data:function(){return{visibleLive:!1,attrLive:{title:"",width:"925px"},id:null,data:[],loading:!1,columns:[{title:this.$t("courseData/CourseDataModal_1",{zh:"呢称"}),key:"nickname",dataIndex:"nickname",width:"33.3%",align:"center"},{title:this.$t("courseData/CourseDataModal_4",{zh:"报名时间"}),key:"updateTime",width:"33.3%",align:"center",scopedSlots:{customRender:"updateTime"}}],questionList:F.m,questionData:P}},mounted:function(){this.getHandleConfig()},methods:{getHandleConfig:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,code,o,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(H.f)("domains");case 2:n=e.sent,r=n.data,code=r.code,o=r.data.domains,0===code&&(c=t.questionData.findIndex((function(p){return"q4"===p.id})))>-1&&(l={},o.forEach((function(element){l[element.value+""]=element.name})),t.$set(t.questionData,c,B(B({},t.questionData[c]),{},{ans:l})));case 7:case"end":return e.stop()}}),e)})))()},handleOpen:function(t){var e=t.id,n=t.name;this.id=e,this.$set(this.attrLive,"title",n),this.visibleLive=!0,this.getListHand()},getListHand:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r={courseId:t.id,res:{page:t.pagination.current,pageSize:t.pagination.pageSize}},o=void 0,c=void 0,o=r.courseId,c=r.res,l.a.post("/school/lecturer/data/course/problem/list/".concat(o),f.a.stringify(c));case 2:n=e.sent,0===(data=n.data).code&&t.setTotalHandle(data,"entries",(function(){t.data=data.data.entries}));case 5:case"end":return e.stop()}var r,o,c}),e)})))()},expandIcon:function(t){var e=this.$createElement;return t.expanded?e("a",{style:"color: 'black',margin-right:0px",on:{click:function(e){t.onExpand(t.record,e)}}},["查看答题记录",e("a-icon",{attrs:{type:"down"}})]):e("a",{style:"color: 'black' ,margin-right:0px",on:{click:function(e){t.onExpand(t.record,e)}}},["查看答题记录",e("a-icon",{attrs:{type:"up"}})])},showQuestion:function(t){if(t.content){if(t.content.includes("{")){var e=JSON.parse(t.content);return this.questionData.map((function(t){return{question:t.question,ans:t.ans[e[t.id]]||"--"}}))}var n=t.content.split(",");return this.questionList.map((function(t,e){var r=t.ans.find((function(p){return+p.value==+n[e]}));return{question:t.question,ans:null==r?void 0:r.title}}))}return[]},exportData:function(){var t="".concat(A.a.POST.school_pc,"/school/lecturer/data/course/problem/export/").concat(this.id);Object(M.openForm)(t,{},"POST")}}};n(2057);function K(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?K(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):K(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var V={components:{CourseDataModal:R,CourseDataQuestion:Object(_.a)(N,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.visibleLive?n("ModalCommon",{attrs:{visible:t.visibleLive,attr:t.attrLive},on:{"update:visible":function(e){t.visibleLive=e}}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("a-table",{attrs:{columns:t.columns,rowKey:function(t,e){return""+t.updateTime+e},dataSource:t.data,pagination:t.pagination,loading:t.loading,expandIcon:t.expandIcon,expandIconColumnIndex:2,expandIconAsCell:!1},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"updateTime",fn:function(e){return[t._v("\n        "+t._s(t.$changeTime(e.updateTime,"YYYY-MM-DD"))+"\n      ")]}},{key:"expandedRowRender",fn:function(e){return n("ul",{staticClass:"questionWrap"},t._l(t.showQuestion(e),(function(e,r){return n("li",{key:r,staticClass:"borderBottom mt10"},[n("div",[t._v("\n            "+t._s(r+1+"."+e.question)+"\n          ")]),t._v(" "),n("div",[t._v("\n            "+t._s(e.ans)+"\n          ")])])})),0)}}],null,!1,3250415786)}),t._v(" "),t.data?n("div",{staticClass:"exportBtn",on:{click:t.exportData}},[t._v("\n      导出表格\n    ")]):t._e()],1),t._v(" "),n("div",{attrs:{slot:"foot"},slot:"foot"})]):t._e()}),[],!1,null,"6bae926e",null).exports},mixins:[S.a],data:function(){return{searchForm:{sortType:0,id:-1,sortField:0},loading:!1,data:[],courseRow:{},courseData:[],oldSearchForm:{id:-1,name:""}}},computed:{columns:function(){return[{title:this.$t("courseData/CourseDataList_7",{zh:"课程名称"}),dataIndex:"name",width:"30%",align:"center",scopedSlots:{customRender:"courseName"},customRender:function(t,e){return e.period>0?t+"( 第".concat(e.period,"期 )"):t}},{width:"15%",align:"center",slots:{title:"playRatio"},scopedSlots:{customRender:"play_Ratio"}},{title:this.$t("courseData/CourseDataList_8",{zh:"访客数（pv）"}),dataIndex:"hits",width:"10%",align:"center"},{dataIndex:"payNum",width:"15%",align:"center",slots:{title:"payNum"}},{width:"10%",align:"center",slots:{title:"payRatio"},scopedSlots:{customRender:"pay_Ratio"}},{width:"10%",align:"center",slots:{title:"price"},scopedSlots:{customRender:"_price"}},{title:this.$t("courseManagement/CourseList_FormCommonHand/CourseList_31",{zh:"操作"}),key:"operation",scopedSlots:{customRender:"operation"},width:"10%",align:"center"}]}},mounted:function(){this.$set(this.pagination,"pageSize",5),this.getListHand()},methods:{getListHand:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.courseData.length){e.next=6;break}return e.next=3,Object(k.w)({type:0});case 3:n=e.sent,0===(r=n.data).code&&(t.courseData=r.data);case 6:return o=Y(Y({},t.searchForm),{},{page:t.pagination.current,pageSize:t.pagination.pageSize}),e.next=9,h(o);case 9:c=e.sent,0===(data=c.data).code&&t.setTotalHandle(data,"entries",(function(){t.data=data.data.entries}));case 12:case"end":return e.stop()}}),e)})))()},sortHandleList:function(t,e){this.$set(this.searchForm,"sortField",t),this.$set(this.searchForm,"sortType",e),this.getListHand()},handleOpen:function(t,e){this.courseRow=t;var n=t.id,r=t.name,o=t.period,c={id:n,name:o>0?"".concat(r,"(第").concat(o,"期)"):r,period:o};e?this.$refs.CourseDataModal.handleOpen(c):this.$refs.CourseDataQuestion.handleOpen(c)},searchData:function(){this.searchForm=Y(Y({},this.searchForm),this.oldSearchForm),this.$set(this.pagination,"current",1),this.getListHand()}}},J=(n(2058),Object(_.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-fff pt20 pr30 pl30 mt20"},[n("a-row",{attrs:{type:"flex",justify:"space-between"}},[n("a-col",{attrs:{span:4}},[n("div",{staticClass:"c-333 fs16 f500 bLeft"},[t._v("\n        "+t._s(t.$t("courseData/CourseDataList_1",{zh:"全部课程列表"}))+"\n      ")])]),t._v(" "),n("a-col",{staticClass:"textRight",attrs:{span:20}},[n("a-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入课程名称"},model:{value:t.oldSearchForm.name,callback:function(e){t.$set(t.oldSearchForm,"name",e)},expression:"oldSearchForm.name"}}),t._v(" "),n("a-select",{staticStyle:{width:"240px"},model:{value:t.oldSearchForm.id,callback:function(e){t.$set(t.oldSearchForm,"id",e)},expression:"oldSearchForm.id"}},[n("a-select-option",{attrs:{value:-1}},[t._v("\n          "+t._s(t.$t("courseManagement/CourseList_FormCommonHand/CourseList_3",{zh:"全部"}))+"\n        ")]),t._v(" "),t._l(t.courseData,(function(e,r){return n("a-select-option",{key:r,attrs:{value:e.id}},[n("span",[t._v(t._s(e.name))]),e.period&&e.period>0?n("span",[t._v("（ 第"+t._s(e.period)+"期 ）")]):t._e()])}))],2),t._v(" "),n("div",{staticClass:"ml30 searchBtn",on:{click:t.searchData}},[t._v("\n        "+t._s(t.$t("financialManagement/CourseRevenue_10",{zh:"查询"}))+"\n      ")])],1)],1),t._v(" "),n("a-table",{staticClass:"mt25",attrs:{columns:t.columns,rowKey:function(t){return t.id},dataSource:t.data,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"play_Ratio",fn:function(e){return[n("span",[t._v(t._s((100*(e.playRatio>1?1:e.playRatio)).toFixed(2))+"% ")])]}},{key:"pay_Ratio",fn:function(e){return[n("span",[t._v(t._s((100*e.payRatio).toFixed(2))+"% ")])]}},{key:"operation",fn:function(e){return[n("span",{staticClass:"hand c-4A9",on:{click:function(n){return t.handleOpen(e,!0)}}},[t._v(t._s(t.$t("courseData/CourseDataList_2",{zh:"用户列表"}))+" ")]),t._v(" "),n("span",{staticClass:"hand c-4A9 ml5",on:{click:function(n){return t.handleOpen(e,!1)}}},[t._v("答题记录")])]}},{key:"_price",fn:function(e){return[t._v("\n      ￥"+t._s(e.fee)+"\n    ")]}}])},[t._v(" "),t._v(" "),t._v(" "),t._v(" "),n("template",{slot:"playRatio"},[n("span",[t._v(t._s(t.$t("courseData/CourseDataList_3",{zh:"课程完播率"})))]),t._v(" "),n("div",{staticClass:"lineBlock"},[n("div",{class:["topIcon",{topIconActive:4===t.searchForm.sortField&&1===t.searchForm.sortType}],on:{click:function(e){return t.sortHandleList(4,1)}}}),t._v(" "),n("div",{class:["downIcon",{downIconActive:4===t.searchForm.sortField&&0===t.searchForm.sortType}],on:{click:function(e){return t.sortHandleList(4,0)}}})])]),t._v(" "),n("template",{slot:"payNum"},[n("span",[t._v(t._s(t.$t("courseData/CourseDataList_4",{zh:"课程报名/缴费数"})))]),t._v(" "),n("div",{staticClass:"lineBlock"},[n("div",{class:["topIcon",{topIconActive:3===t.searchForm.sortField&&1===t.searchForm.sortType}],on:{click:function(e){return t.sortHandleList(3,1)}}}),t._v(" "),n("div",{class:["downIcon",{downIconActive:3===t.searchForm.sortField&&0===t.searchForm.sortType}],on:{click:function(e){return t.sortHandleList(3,0)}}})])]),t._v(" "),n("template",{slot:"payRatio"},[n("span",[t._v(t._s(t.$t("courseData/CourseDataList_5",{zh:"转化率"})))]),t._v(" "),n("div",{staticClass:"lineBlock"},[n("div",{class:["topIcon",{topIconActive:2===t.searchForm.sortField&&1===t.searchForm.sortType}],on:{click:function(e){return t.sortHandleList(2,1)}}}),t._v(" "),n("div",{class:["downIcon",{downIconActive:2===t.searchForm.sortField&&0===t.searchForm.sortType}],on:{click:function(e){return t.sortHandleList(2,0)}}})])]),t._v(" "),n("template",{slot:"price"},[n("span",[t._v(t._s(t.$t("courseData/CourseDataList_6",{zh:"课程收入"})))]),t._v(" "),n("div",{staticClass:"lineBlock"},[n("div",{class:["topIcon",{topIconActive:1===t.searchForm.sortField&&1===t.searchForm.sortType}],on:{click:function(e){return t.sortHandleList(1,1)}}}),t._v(" "),n("div",{class:["downIcon",{downIconActive:1===t.searchForm.sortField&&0===t.searchForm.sortType}],on:{click:function(e){return t.sortHandleList(1,0)}}})])])],2),t._v(" "),n("CourseDataModal",{ref:"CourseDataModal",attrs:{courseRow:t.courseRow}}),t._v(" "),n("CourseDataQuestion",{ref:"CourseDataQuestion"})],1)}),[],!1,null,"41f4b0de",null).exports),Q={mixins:[S.a],data:function(){return{detailPagination:{current:1,pageSize:8,total:0},period:0,orderBy:"",seachName:"",courseId:0,data:[],visible:!1,detailData:[],statistics:{}}},computed:{title:function(){return this.period>0?"推广详情"+"(第".concat(this.period,"期)"):"推广详情"},showData:function(){return[{title:this.$t("organizers/promotion_1",{zh:"推广课程数量"}),icon:n(1449),data:this.statistics.totalCourse},{title:this.$t("organizers/promotion_2",{zh:"推广人数"}),icon:n(1450),data:this.statistics.inviteesNumber},{title:this.$t("organizers/promotion_3",{zh:"总推广成功数"}),icon:n(1451),data:this.statistics.inviteesSuc},{title:this.$t("organizers/promotion_4",{zh:"购买课程总金额"}),icon:n(1452),data:this.statistics.all_fee},{title:this.$t("organizers/promotion_5",{zh:"总佣金"}),icon:n(1453),data:this.statistics.all_carry_fee}]},detailColumns:function(){return[{title:this.$t("organizers/promotion_6",{zh:"编号"}),dataIndex:"id",key:"id"},{title:this.$t("financialManagement/CourseRevenue_6",{zh:"订单号"}),dataIndex:"tradeNO",key:"tradeNO",customRender:function(text){return text||"-"}},{title:this.$t("courseManagement/ChapterCourseList_FormCommonHand/ChapterCourseList_27",{zh:"课程名称"}),dataIndex:"name",key:"name"},{title:this.$t("organizers/promotion_11",{zh:"下单时间"}),dataIndex:"feeTime",key:"feeTime",customRender:function(text){return text>0?Object(M._moment)(1e3*text).format("YYYY/MM/DD"):0}},{title:this.$t("organizers/promotion_12",{zh:"佣金金额"})+"( ".concat(this.$t("courseManagement/ChapterCourseList_FormCommonHand/ChapterCourseList_4",{zh:"元"})," )"),dataIndex:"carry_fee",key:"carry_fee"},{title:this.$t("financialManagement/CourseRevenue_12",{zh:"订单金额"})+"( ".concat(this.$t("courseManagement/ChapterCourseList_FormCommonHand/ChapterCourseList_4",{zh:"元"})," )"),dataIndex:"total_fee",key:"total_fee"},{title:this.$t("organizers/promotion_13",{zh:"推广人"}),dataIndex:"inviterAccount",key:"inviterAccount"}]},columus:function(){return[{title:this.$t("organizers/promotion_6",{zh:"编号"}),dataIndex:"id",key:"id"},{title:this.$t("organizers/promotion_7",{zh:"课程名称"}),dataIndex:"name",key:"name",customRender:function(t,e){return e.period>0?t+"( 第".concat(e.period,"期 )"):t}},{title:this.$t("organizers/promotion_8",{zh:"推广人数"}),dataIndex:"inviteesNumber",key:"inviteesNumber"},{title:this.$t("organizers/promotion_9",{zh:"成功下单"}),dataIndex:"inviteesSuc",key:"inviteesSuc",sorter:!0},{title:this.$t("organizers/promotion_4",{zh:"购买课程总金额"}),dataIndex:"all_fee",key:"all_fee",sorter:!0},{title:this.$t("organizers/promotion_10",{zh:"佣金总额"}),dataIndex:"all_carry_fee",key:"all_carry_fee",sorter:!0},{title:this.$t("courseManagement/ChapterList_FormCommonHand/ChapterList_14",{zh:"操作"}),dataIndex:"handle",key:"handle",scopedSlots:{customRender:"handle"}}]}},created:function(){this.statData(),this.getListHand()},methods:{statData:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,code,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.J)();case 2:n=e.sent,r=n.data,code=r.code,o=r.data,0===code&&(t.statistics=o.entity);case 7:case"end":return e.stop()}}),e)})))()},getListHand:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,r,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={name:t.seachName,orderField:t.orderBy,page:t.pagination.current,pageSize:t.pagination.pageSize},e.next=3,Object(k.K)(n);case 3:r=e.sent,0===(data=r.data).code&&t.setTotalHandle(data,"entries",(function(){t.data=data.data.entries}));case 6:case"end":return e.stop()}}),e)})))()},handleChange:function(t,e,n){var r=t.current,o=t.pageSize,c=n.columnKey,l=n.order,d={inviteesSuc:1,all_carry_fee:2,all_fee:3},f={ascend:-Number(d[c]),descend:Number(d[c])};this.orderBy=f[l]||"",this.handlePaginatChange(r,o)},handleDetailChange:function(t){var e=t.current;this.detailPagination.current=e,this.handleDetail({id:this.courseId})},handleDetail:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var r,o,c,l,data;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.id,o=t.period,e.visible=!0,e.courseId=r,e.period=o,c={courseId:r,page:e.detailPagination.current,pageSize:e.detailPagination.pageSize},n.next=7,Object(k.A)(c);case 7:l=n.sent,data=l.data,e.detailData=data.data.entries,e.detailPagination.total=Number(data.data.total);case 11:case"end":return n.stop()}}),n)})))()}}},W=(n(2059),{layout:"organizers",components:{CourseDataHeader:x,CourseDataList:J,CourseDataChart:I,CourseDataMarketing:Object(_.a)(Q,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"marketingContainer"},[r("div",{staticClass:"cardList"},[r("a-row",t._l(t.showData,(function(e){return r("a-col",{key:e.title,attrs:{xs:12,sm:8,md:8,lg:6,xl:6,xxl:4}},[r("div",{staticClass:"card"},[r("img",{attrs:{src:n(1448),width:"100%"}}),t._v(" "),r("div",{staticClass:"cardIntro"},[r("div",{staticStyle:{"margin-top":"18px"}},[r("p",{staticStyle:{"font-size":"14px",color:"#333333"}},[t._v("\n                "+t._s(e.title)+"\n              ")]),t._v(" "),r("p",{staticStyle:{"font-size":"24px",color:"#0753FD","margin-top":"10px"}},[t._v("\n                "+t._s(e.data)+"\n              ")])]),t._v(" "),r("div",{staticClass:"cardIcon"},[r("img",{attrs:{src:e.icon,width:"100%"}})])])])])})),1)],1),t._v(" "),r("div",{staticClass:"line"}),t._v(" "),r("div",{staticClass:"table"},[r("div",{staticClass:"tableTitle"},[r("span",{staticClass:"text"},[t._v(t._s(t.$t("courseData/CourseDataList_1",{zh:"全部课程列表"})))]),t._v(" "),r("div",{staticClass:"seach"},[r("a-input",{attrs:{placeholder:"请输入课程名称"},model:{value:t.seachName,callback:function(e){t.seachName=e},expression:"seachName"}}),t._v(" "),r("a-button",{staticClass:"btn",on:{click:t.getListHand}},[t._v("\n          "+t._s(t.$t("financialManagement/CourseRevenue_10",{zh:"查询"}))+"\n        ")])],1)]),t._v(" "),r("div",{staticClass:"tableContent"},[r("a-table",{attrs:{rowKey:function(t){return t.id},columns:t.columus,"data-source":t.data,pagination:t.pagination},on:{change:t.handleChange},scopedSlots:t._u([{key:"handle",fn:function(text,e){return r("div",{staticClass:"detail",on:{click:function(n){return t.handleDetail(e)}}},[t._v("\n          详情\n        ")])}}])})],1)]),t._v(" "),r("div",{staticClass:"detailTable"},[r("a-modal",{attrs:{width:"1080px",title:t.title,visible:t.visible,footer:!1},on:{cancel:function(e){t.visible=!1}}},[r("a-table",{attrs:{rowKey:function(t){return t.id},columns:t.detailColumns,dataSource:t.detailData,pagination:t.detailPagination},on:{change:t.handleDetailChange}})],1)],1)])}),[],!1,null,"ff98ade4",null).exports,Tabs:n(1280).a},data:function(){return{}},computed:{list:function(){return[{title:this.$t("config/mock_config/mock_14",{zh:"课程数据"}),key:"course"},{title:this.$t("organizers/courseData/tabsList_1",{zh:"营销数据"}),key:"marketing"}]}},head:function(){return{title:"课程数据",meta:[{hid:"description",name:"description",content:"课程数据"}]}}}),U=(n(2060),Object(_.a)(W,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"box"},[e("div",{staticStyle:{"padding-top":"10px",background:"#f5f5f5"}},[e("Tabs",{attrs:{data:this.list}},[e("div",{attrs:{slot:"course"},slot:"course"},[e("div",{staticClass:"courseData "},[e("CourseDataHeader"),this._v(" "),e("CourseDataChart"),this._v(" "),e("CourseDataList")],1)]),this._v(" "),e("div",{attrs:{slot:"marketing"},slot:"marketing"},[e("CourseDataMarketing")],1)])],1)])])}),[],!1,null,"33641f29",null));e.default=U.exports}}]);