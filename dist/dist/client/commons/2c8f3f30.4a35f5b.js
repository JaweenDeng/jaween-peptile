(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{559:function(e,t,o){var content=o(775);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(42).default)("082f2ba8",content,!0,{sourceMap:!1})},560:function(e,t,o){var content=o(778);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(42).default)("a6ddc6de",content,!0,{sourceMap:!1})},561:function(e,t,o){var content=o(780);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(42).default)("c8df77c8",content,!0,{sourceMap:!1})},562:function(e,t,o){var content=o(782);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(42).default)("c43b08bc",content,!0,{sourceMap:!1})},610:function(e,t,o){"use strict";o(65),o(43),o(38),o(29),o(51),o(67);var n=o(35),r=(o(56),o(14)),d=o(428),c=(o(421),o(315),o(25)),l=o(24),h=o(626),m=o(636),v=o(634),f={props:{loadMsg:{type:Object,required:!0},show:{type:Boolean,required:!0},isVideoWeChat:{type:Boolean,required:!0}},data:function(){return{config:l.a,currentTime:parseInt((new Date).getTime()/1e3),pushCourseHidden:!1,pushCouponTipHidden:!0,pushCourseRec:!1,couponTimer:null,isWeChat:!1}},computed:{isShowCourse:function(){return this.loadMsg&&this.loadMsg.pushCourse&&Object.keys(this.loadMsg.pushCourse).length>0},isShowCoupon:function(){return this.loadMsg&&this.loadMsg.pushCoupon&&this.loadMsg.pushCoupon.drawEnd>this.currentTime},isCouponUse:function(){return this.currentTime>this.loadMsg.pushCoupon.start&&this.loadMsg.pushCoupon.end>this.currentTime},realPrice:function(){var e=this.loadMsg.pushCoupon.money,t=this.coursePrice-e;return this.isShowCoupon?t>0?t:0:this.coursePrice},coursePrice:function(){var e=this.loadMsg.pushCourse,t=e.price,o=e.discountPrice,n=e.discountStart,r=e.discountEnd;return n&&n&&o&&this.currentTime>n&&r>this.currentTime?o:t}},mounted:function(){var e=this;this.isWeChat=Object(c.isWeChat)(),this.pushCourseHidden=!1;var t=setTimeout((function(){e.pushCourseHidden=!0,clearTimeout(t)}),15e3),o=setTimeout((function(){e.pushCouponTipHidden=!1,clearTimeout(o)}),1e4);this.couponTimer=setInterval((function(){e.isShowCoupon?(e.pushCouponTipHidden=!0,setTimeout((function(){e.pushCouponTipHidden=!1}),1e4)):clearInterval(e.couponTimer)}),3e5)},beforeDestroy:function(){clearInterval(this.couponTimer)},methods:{couponClick:function(){this.pushCourseRec="pushCoupon",this.pushCouponTipHidden=!1,clearInterval(this.couponTimer)},buyClick:function(){this.loadMsg.apply?this.isVideoWeChat?window.wx.miniProgram.navigateTo({url:"/pagesA/courseDetail/courseDetail?id=".concat(this.loadMsg.pushCourse.id)}):this.$router.push({path:"/courseDetail/".concat(this.loadMsg.pushCourse.id)}):this.isShowCoupon&&!this.loadMsg.drawStatus?this.pushCourseRec="pushCoupon":this.isVideoWeChat?window.wx.miniProgram.navigateTo({url:"/pages/courseOrder/courseOrder?id=".concat(this.loadMsg.pushCourse.id)}):this.$router.push({path:"/courseOrder/".concat(this.loadMsg.pushCourse.id)})},modalCouponClick:function(){var e=this;if(this.loadMsg.drawStatus)this.isVideoWeChat?window.wx.miniProgram.navigateTo({url:"/pagesA/courseDetail/courseDetail?id=".concat(this.loadMsg.pushCoupon.ownId)}):this.$router.push({path:"/courseDetail/".concat(this.loadMsg.pushCoupon.ownId)});else{if(!this.isWeChat)return this.$toast("请在微信浏览器内访问!");this.$emit("update:show",!0),this.isVideoWeChat&&setTimeout((function(){e.$emit("update:show",!1),e.pushCourseRec=!1}),3e3)}}}},C=(o(774),o(22)),w=Object(C.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return Object.keys(e.loadMsg).length>0&&e.loadMsg.pushCourse?n("div",{staticClass:"VideoRecommend"},[n("van-row",{attrs:{type:"flex",justify:"space-between",align:"bottom"}},[n("van-col",{attrs:{span:"18"}},[e.isShowCourse?n("van-row",{directives:[{name:"show",rawName:"v-show",value:!e.pushCourseHidden,expression:"!pushCourseHidden"}],staticClass:"pushCourse",attrs:{type:"flex"}},[n("van-col",{on:{click:function(t){e.pushCourseRec="pushCourse"}}},[n("img",{attrs:{src:""+e.config.IMG_URL.default+e.loadMsg.pushCourse.poster,width:"106"}})]),e._v(" "),n("van-col",{staticClass:"pl10 courseDetailWrap",on:{click:function(t){e.pushCourseRec="pushCourse"}}},[n("div",{staticClass:"van-multi-ellipsis--l2 fs12 f500"},[e._v("\n            "+e._s(e.loadMsg.pushCourse.period?e.loadMsg.pushCourse.name+"(第"+e.loadMsg.pushCourse.period+"期)":e.loadMsg.pushCourse.name)+"\n          ")]),e._v(" "),e.isShowCoupon?n("div",{staticClass:"mt5"},[n("span",{staticClass:"fs20 c-ED3 f600"},[e._v("¥"+e._s(e.realPrice))]),e._v(" "),n("span",{staticClass:"c-999 fakePrice"},[e._v("¥"+e._s(e.loadMsg.pushCourse.price))])]):n("div",{staticClass:"fs20 c-ED3 f600 mt5"},[e._v("\n            ¥"+e._s(e.coursePrice)+"\n          ")])]),e._v(" "),n("van-icon",{staticClass:"hand pushCourseIcon c-999",attrs:{name:"close",size:"0.4rem"},on:{click:function(t){e.pushCourseHidden=!0}}})],1):e._e()],1),e._v(" "),e.isShowCoupon?n("van-col",{staticClass:"textCenter fs14",attrs:{span:"6"},on:{click:e.couponClick}},[e.loadMsg.drawStatus?e._e():n("div",{directives:[{name:"show",rawName:"v-show",value:e.pushCouponTipHidden,expression:"pushCouponTipHidden"}],staticClass:"pushCouponIcon"},[n("img",{attrs:{src:o(771),width:"76"}})]),e._v(" "),n("div",[n("img",{attrs:{src:o(772),width:"77"}})])]):e._e()],1),e._v(" "),e.isShowCourse?n("div",{staticClass:"courseIcon",on:{click:function(t){e.pushCourseRec="pushCourse"}}},[n("img",{attrs:{src:o(773),width:"70"}})]):e._e(),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.pushCourseRec,expression:"pushCourseRec"}],staticClass:"pushModal"},[n("div",{staticClass:"pushModalHeader textCenter borderBottom"},[e._v("\n      "+e._s("pushCourse"===e.pushCourseRec?"推荐课程":"优惠券")+"\n      "),n("van-icon",{staticClass:"pushModalIcon",attrs:{name:"cross",color:"#999"},on:{click:function(t){e.pushCourseRec=!1}}})],1),e._v(" "),"pushCourse"===e.pushCourseRec?n("van-row",{staticClass:"pd15",attrs:{type:"flex"}},[n("van-col",{attrs:{span:"10"}},[n("img",{attrs:{src:""+e.config.IMG_URL.default+e.loadMsg.pushCourse.poster,width:"140"}})]),e._v(" "),n("van-col",{staticClass:"pl10 courseDetailWrap",attrs:{span:"14"}},[n("div",{staticClass:"van-multi-ellipsis--l2 fs14 f500"},[e._v("\n          "+e._s(e.loadMsg.pushCourse.period?e.loadMsg.pushCourse.name+"(第"+e.loadMsg.pushCourse.period+"期)":e.loadMsg.pushCourse.name)+"\n        ")]),e._v(" "),n("van-row",{attrs:{type:"flex",justify:"space-between",align:"bottom"}},[n("van-col",[n("div",[n("div",{staticClass:"c-999 fs12 fakePrice"},[e.isShowCoupon?n("span",[e._v("¥"+e._s(e.loadMsg.pushCourse.price))]):e._e()]),e._v(" "),n("div",{staticClass:"fs20 c-ED3 f600"},[e._v("\n                ¥"+e._s(e.isShowCoupon?e.realPrice:e.coursePrice)+"\n              ")])])]),e._v(" "),n("van-col",{staticClass:"c-fff fs12 buyBtns",on:{click:e.buyClick}},[e._v("\n            "+e._s(e.loadMsg.apply?"查看课程":e.isShowCoupon&&!e.loadMsg.drawStatus?"领券购买":"立即购买")+"\n          ")])],1)],1)],1):"pushCoupon"===e.pushCourseRec?n("div",{staticClass:"pd10"},[n("div",{staticClass:"pl35 fs12 pr25 couponWrap"},[n("div",{staticClass:"pl12 pt13 f600 c-674"},[e._v("\n          课程优惠券\n        ")]),e._v(" "),n("div",{staticClass:"iconFont"},[e._v("\n          有效券\n        ")]),e._v(" "),n("div",{staticClass:"mt15 f600"},[e._v("\n          ¥"),n("span",{staticClass:"fs30"},[e._v(e._s(""+e.loadMsg.pushCoupon.money))]),e._v(" "),n("span",{staticClass:"fs12 ml5"},[e._v("\n            "+e._s(e.loadMsg.pushCoupon.feeCond>0?"满"+e.loadMsg.pushCoupon.feeCond+"元可用":"无门槛")+"\n          ")])]),e._v(" "),n("van-row",{staticClass:"mt5",attrs:{type:"flex",justify:"space-between"}},[n("van-col",{staticClass:"fs12"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isCouponUse,expression:"isCouponUse"}],staticClass:"pt10"},[e._v("\n              有效期: "+e._s(e.$changeTime(e.loadMsg.pushCoupon.start,"YYYY/MM/DD"))+" ~ "+e._s(e.$changeTime(e.loadMsg.pushCoupon.end,"YYYY/MM/DD"))+"\n            ")])]),e._v(" "),e.loadMsg.apply?n("van-col",{staticClass:"useBtn hasBuyBtns"},[e._v("\n            已购买\n          ")]):n("van-col",{staticClass:"useBtn",on:{click:e.modalCouponClick}},[e._v("\n            "+e._s(e.loadMsg.drawStatus?"立即使用":"立即邀请")+"\n          ")])],1),e._v(" "),n("div",{staticClass:"mt25"},[e._v("\n          "+e._s(e.loadMsg.drawStatus?"适用于: "+e.loadMsg.pushCoupon.ownName:"领取条件: 邀请1位好友进直播间,双方均可获得此优惠券")+"\n        ")])],1)]):e._e()],1)],1):e._e()}),[],!1,null,"d708d196",null).exports,y={props:{courseId:{type:Number,required:!0}},data:function(){return{data:{},timer:null,isUpdate:!0}},mounted:function(){var e=this;this.getLastBuyData(),this.timer=setInterval((function(){e.getLastBuyData()}),3e4)},beforeDestroy:function(){clearInterval(this.timer)},methods:{getLastBuyData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,n,code,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.o)(e.courseId);case 2:o=t.sent,n=o.data,code=n.code,data=n.data,0===code&&(e.isUpdate=e.data.nickName&&e.data.nickName!==data.nickName,e.data=data,e.isUpdate&&setTimeout((function(){e.isUpdate=!1}),5e3));case 7:case"end":return t.stop()}}),t)})))()}}},k=(o(777),Object(C.a)(y,(function(){var e=this.$createElement,t=this._self._c||e;return Object.keys(this.data).length>0&&this.data.nickName?t("div",{directives:[{name:"show",rawName:"v-show",value:this.isUpdate,expression:"isUpdate"}]},[t("div",{staticClass:"itemWrap"},[this._v("\n    "+this._s(this.data.nickName+"已购买了该推荐课程")+"\n  ")])]):this._e()}),[],!1,null,"2dddf897",null).exports),I=o(434),x=o(635),_=o(5);function M(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var O={components:{CommonContent:h.a,CommentPop:m.a,CourseEvaluate:v.a,VideoRecommend:w,CourseLastBuy:k,CourseClock:x.a},mixins:[I.a],props:{commonData:{type:Object,required:!0},isVideoWeChat:{type:Boolean,required:!0}},data:function(){return{data:{},scene:0,watchedTime:0,isChange:!0,liveInfoTimer:null,liveId:null,isPreviewEnd:!1,isEnd:!1,isLiveEnd:!1,initEvaluate:!1,loadMsg:{},isWeChat:!1,shareOption:{},show:!1,liveTimeInterval:2e3}},watch:{$route:function(){this.scene=0,this.player=null,this.chatRoom=null,this.liveSdk=null,clearTimeout(this.timer),clearTimeout(this.liveTimer),clearTimeout(this.liveInfoTimer),this.getLiveConfig()}},mounted:function(){this.isWeChat=Object(c.isWeChat)(),this.getLiveConfig(),document.getElementsByClassName("layout")[0].setAttribute("style","min-height:100% !important;")},beforeDestroy:function(){this.liveSdk&&this.liveSdk.destroy(!0),this.player&&this.player.dispose(),this.player=null,this.chatRoom=null,this.liveSdk=null,clearTimeout(this.timer),clearTimeout(this.liveTimer),clearTimeout(this.liveInfoTimer),document.getElementsByClassName("layout")[0].removeAttribute("style")},methods:{getLiveConfig:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,n,h,m,v,data,f,C,code,w,y;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.liveId=e.$route.query.liveId||e.$route.params.id,o={},n=e.commonData.lives.find((function(p){return p.id===+e.liveId})),h=e.commonData.apply?0:n.previewTime,(e.$route.query.isPreview||h)&&(o.preview=1),(m=c.storage.get("inviterObj"))&&+m.courseId===e.commonData.courseId&&(o.inviterCode=m.inviterCode,c.storage.remove("inviterObj")),t.next=9,Object(d.q)("".concat(e.commonData.courseId,"/").concat(e.liveId),o);case 9:if(v=t.sent,0!==(data=v.data).code){t.next=25;break}if(e.scene=data.data.scene,!data.data.hasOwnProperty("push")){t.next=21;break}return t.next=16,Object(d.x)({courseId:e.commonData.courseId,liveId:e.liveId});case 16:f=t.sent,C=f.data,code=C.code,w=C.data,0===code&&(e.loadMsg=w);case 21:y=e.loadMsg.inviterCode&&e.loadMsg.pushCoupon&&e.loadMsg.pushCoupon.drawEnd>parseInt((new Date).getTime()/1e3),e.shareOption={title:e.commonData.name,desc:"我已参加这个课程，你也来一起参加吧!",imgUrl:"".concat(l.a.IMG_URL.default).concat(e.commonData.poster),link:y?"".concat(l.a.LINK.school_h5,"/courseDetail/").concat(e.commonData.courseId,"?inviterCode=").concat(e.loadMsg.inviterCode):"".concat(l.a.LINK.school_h5,"/courseDetail/").concat(e.commonData.courseId)},(e.isWeChat||e.isVideoWeChat)&&e.getWechatShare(e.commonData.courseId),e.$nextTick(Object(r.a)(regeneratorRuntime.mark((function t(){var o,n,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.data=data.data,window.PolyvLiveSdk||window.PolyvChatRoom||1===e.data.scene){t.next=9;break}return t.next=4,Object(c.dynamicScript)(l.a.liveUrl,"PolyvLiveSdk");case 4:return t.next=6,Object(c.dynamicScript)(l.a.chatUrl,"PolyvChatRoom");case 6:Object(c.dynamicCss)(l.a.chatCss),t.next=13;break;case 9:if(window.Aliplayer||!e.data.videoId||1!==e.data.scene){t.next=13;break}return t.next=12,Object(c.dynamicScript)(l.a.recordUrl,"Aliplayer");case 12:Object(c.dynamicCss)(l.a.recordCSS);case 13:1===data.data.scene?(e.player=new window.Aliplayer({id:"players",width:"100%",height:"205px",autoplay:!1,vid:e.data.videoId,playauth:e.data.playAuth,playConfig:{MtsHlsUriToken:e.data.hlsUriToken},useH5Prism:!0,playsinline:!0,encryptType:1,preload:!1,hlsUriToken:e.data.hlsUriToken,isPreview:e.$route.query.isPreview||h},(function(t){!(e.data.watched&&e.data.watched<e.data.duration)||e.$route.query.isPreview&&h||t.seek(e.data.watched),e.$route.query.isPreview&&e.data.previewTime>0?t.setPreviewTime(60*e.data.previewTime):h>0&&t.setPreviewTime(60*h)})),e.player.on("playing",(function(){e.isEnd=!1,e.report()})),e.player.on("pause",(function(){clearTimeout(e.timer)})),e.player.on("ended",Object(r.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e.$route.query.isPreview||h>0)&&(e.isPreviewEnd=!0),o={courseId:e.commonData.courseId,liveId:e.liveId,options:{duration:parseInt(e.player.getDuration()),watched:parseInt(e.player.getCurrentTime())}},t.next=4,Object(d.D)(o);case 4:clearTimeout(e.timer),e.commonData.evaluated||e.$route.query.isPreview||e.$refs.comment.toggle(!0),e.isEnd=!0;case 7:case"end":return t.stop()}}),t)}))))):(o=[{name:"课程介绍",type:"document"},{name:"评论",type:"evaluate"},{name:"打卡区",type:"clock"}],e.chatRoom=new window.PolyvChatRoom({roomId:Number(e.data.channelId),userId:e.data.chatUserId,nick:e.data.chatNickName?e.data.chatNickName:"艾思用户",pic:e.data.chatAvatar?"".concat(e.data.chatAvatar):"https://img.ais.cn/thirds/xcx/images/user/avator.png",userType:"slice",token:e.data.chatToken[0],mediaChannelKey:e.data.chatToken[1],version:"2.0",container:"#wrap",width:"100%",height:"".concat(document.body.clientHeight-248,"px"),enableAsk:!1,tabData:3===e.scene?[{name:"课程文档",type:"ppt"}].concat(o):o}),n=e.chatRoom.chat,e.liveSdk=new window.PolyvLiveSdk({channelId:Number(e.data.channelId),sign:e.data.sign,timestamp:e.data.timestamp,appId:e.data.appId,user:{userId:e.data.chatUserId,userName:e.data.chatNickName?e.data.chatNickName:"艾思用户",pic:e.data.chatAvatar?"".concat(e.data.chatAvatar):"https://img.ais.cn/thirds/xcx/images/user/avator.png"},socket:n.socket}),m={pptEl:"#tab-ppt",el:"#player",type:"auto",autoplay:!0,audioMode:!1,controller:!0,pptNav:!0,controllerPosition:"ppt",switchPlayer:!0,pptNavBottom:"30px",controllerEl:document.getElementById("#player")},e.liveSdk.on(window.PolyvLiveSdk.EVENTS.CHANNEL_DATA_INIT,(function(){e.liveSdk.setupPlayer(T({},m)),e.liveSdk.player.on("playing",(function(){e.getLiveInfo()})),e.liveReport()})),document.getElementById("tab-document").innerHTML=e.commonData.content,document.getElementById("tab-evaluate").appendChild(document.getElementById("CourseEvaluate")),document.getElementById("tab-clock").appendChild(document.getElementById("CourseClock")),e.initEvaluate=!0,e.$refs.CourseEvaluate.getCommentList());case 14:case"end":return t.stop()}}),t)}))));case 25:case"end":return t.stop()}}),t)})))()},goToAis:function(){var e=encodeURIComponent(window.location.origin+this.$route.fullPath);window.location.href="".concat(l.a.POST.school_h5,"/school/passport/login?mobile=1&state=").concat(e)},report:function(){var e=this;this.timer=setTimeout(Object(r.a)(regeneratorRuntime.mark((function t(){var o,n,r,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.player){t.next=11;break}if(o=parseInt(e.player.getDuration()),!((n=parseInt(e.player.getCurrentTime()))-e.watchedTime<9)){t.next=5;break}return t.abrupt("return");case 5:return r={courseId:e.commonData.courseId,liveId:e.liveId,options:{duration:o,watched:n}},t.next=8,Object(d.D)(r);case 8:c=t.sent,0===c.data.code&&(e.watchedTime=n,e.report());case 11:case"end":return t.stop()}}),t)}))),1e4)},liveReport:function(){var e=this;this.liveTimer=setTimeout(Object(r.a)(regeneratorRuntime.mark((function t(){var o,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0!==(o=parseInt(e.liveSdk.player.currentTime))&&o-e.watchedTime<9)){t.next=3;break}return t.abrupt("return");case 3:return n={courseId:e.commonData.courseId,liveId:e.liveId,options:{duration:0,watched:o}},t.next=6,Object(d.D)(n);case 6:r=t.sent,0===r.data.code&&(e.watchedTime=o,e.liveReport());case 9:case"end":return t.stop()}}),t)}))),1e4)},getLiveInfo:function(){var e=this;clearTimeout(this.liveInfoTimer),this.liveInfoTimer=setTimeout((function(){_.default.jsonp("".concat(l.a.POST.school_h5,"/school/course/info/live/").concat(e.liveId)).then((function(t){e.$set(e.data,"visits",t.visits),2!==t.liveStatus||e.isEnd||e.commonData.evaluated||e.isLiveEnd||(e.$refs.comment.toggle(!0),e.isEnd=!0,e.isLiveEnd=!0),e.liveTimeInterval=1===t.liveStatus?5e3:2e3,e.getLiveInfo()}))}),this.liveTimeInterval)},previewLoad:function(){this.isPreviewEnd=!1,this.player.seek(0),this.player.replay()},buyCourse:function(){this.$router.push({path:"/courseOrder/".concat(this.commonData.courseId)})},updateComment:function(){this.$emit("update"),this.isEnd=!1},setIsEnd:function(e){this.isEnd=e}}};o(779);function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function D(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var j={components:{VideoDetail:Object(C.a)(O,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.isEnd?"isEnd":"isStart"},[1===e.scene?n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.isPreviewEnd,expression:"!isPreviewEnd"}],attrs:{id:"players"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isPreviewEnd,expression:"isPreviewEnd"}],staticClass:"previewWrap textCenter"},[n("div",{staticClass:"c-fff fs15 f500"},[e._v("\n        试听已结束，请购买该课程。\n      ")]),e._v(" "),n("div",{staticClass:"c-fff buyBtn mt20 hand",on:{click:e.buyCourse}},[n("img",{staticClass:"Icon",attrs:{src:o(747)}}),e._v(" "),n("span",{staticClass:"fs15"},[e._v("购买课程")])]),e._v(" "),n("div",{staticClass:"reload mt20 hand",on:{click:e.previewLoad}},[n("img",{staticClass:"Icon",attrs:{src:o(748)}}),e._v(" "),n("span",{staticClass:"fs12"},[e._v("重新播放")])])]),e._v(" "),n("CommonContent",{ref:"CommonContent",attrs:{data:e.commonData,isShowPushCourse:Boolean(e.loadMsg&&e.loadMsg.pushCourse),isVideoWeChat:e.isVideoWeChat}})],1):e._e(),e._v(" "),[2,3].includes(e.scene)?n("div",{class:["liveContainer",{showPushCourse:Boolean(e.loadMsg&&e.loadMsg.pushCourse)}]},[n("div",{staticClass:"player",attrs:{id:"player"}}),e._v(" "),n("div",{staticClass:"handle pl17 pr17 fs12"},[n("div",{staticClass:"c-666"},[n("img",{staticClass:"pImg",attrs:{src:o(749)}}),e._v(" "),n("span",{staticClass:"ml5"},[e._v("观看人数:"+e._s(e.data.visits)+"人次")])])]),e._v(" "),n("div",{class:{liveScord:2===e.scene},attrs:{id:"wrap"}})]):e._e(),e._v(" "),n("comment-pop",{ref:"comment",attrs:{courseId:e.commonData.courseId},on:{getComment:e.updateComment}}),e._v(" "),[2,3].includes(e.scene)?n("div",{directives:[{name:"show",rawName:"v-show",value:!e.initEvaluate,expression:"!initEvaluate"}]},[n("CourseEvaluate",{directives:[{name:"show",rawName:"v-show",value:e.initEvaluate,expression:"initEvaluate"}],ref:"CourseEvaluate",attrs:{id:"CourseEvaluate",data:e.commonData},on:{setIsEnd:e.setIsEnd}}),e._v(" "),n("CourseClock",{directives:[{name:"show",rawName:"v-show",value:e.initEvaluate,expression:"initEvaluate"}],ref:"CourseClock",attrs:{id:"CourseClock",data:e.commonData}})],1):e._e(),e._v(" "),e.loadMsg&&e.loadMsg.pushCourse?n("CourseLastBuy",{staticClass:"CourseLastBuy",attrs:{courseId:e.loadMsg.pushCourse.id}}):e._e(),e._v(" "),n("VideoRecommend",{attrs:{loadMsg:e.loadMsg,show:e.show,isVideoWeChat:e.isVideoWeChat},on:{"update:show":function(t){e.show=t}}}),e._v(" "),e.isWeChat?n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"wechatPoint",on:{click:function(t){e.show=!e.show}}},[n("img",{class:["wechatImg",{mr80:e.isVideoWeChat}],attrs:{src:o(435)}})]):e._e()],1)}),[],!1,null,"381d7dee",null).exports},props:{isVideoWeChat:{type:Boolean,default:!1}},data:function(){return{data:{}}},mounted:function(){this.getHandleData()},methods:{getHandleData:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,data,n,r,c,code,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$route.query.courseId){t.next=6;break}return t.next=3,Object(d.n)("".concat(e.$route.query.courseId));case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,Object(d.n)(0,{liveId:"".concat(e.$route.params.id)});case 8:t.t0=t.sent;case 9:if(o=t.t0,0!==(data=o.data).code){t.next=22;break}return n={},data.data.lives.forEach((function(e){n[e.chapterName]||(n[e.chapterName]=[]),n[e.chapterName].push(e)})),data.data.livesObj=n,t.next=17,Object(d.r)(data.data.courseId);case 17:r=t.sent,c=r.data,code=c.code,l=c.data,0===code&&(e.data=D(D({},data.data),l));case 22:case"end":return t.stop()}}),t)})))()}},head:function(){return{title:this.data.name||"课程详情",meta:[{hid:"description",name:"description",content:this.data.name||"课程详情"}]}}},E=(o(781),Object(C.a)(j,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"videoDetail"},[this.data.courseId?t("div",{staticClass:"banner"},[t("VideoDetail",{attrs:{commonData:this.data,isVideoWeChat:this.isVideoWeChat},on:{update:this.getHandleData}})],1):this._e()])}),[],!1,null,"6b0eb112",null));t.a=E.exports},747:function(e,t,o){e.exports=o.p+"img/buy.8a58671.png"},748:function(e,t,o){e.exports=o.p+"img/reload.22d8a5e.png"},749:function(e,t,o){e.exports=o.p+"img/p.1baaed4.png"},771:function(e,t,o){e.exports=o.p+"img/pushCouponIcon.5793e17.png"},772:function(e,t,o){e.exports=o.p+"img/pushCouponImage.d306522.png"},773:function(e,t,o){e.exports=o.p+"img/pushCourseIcon.5af287d.png"},774:function(e,t,o){"use strict";var n=o(559);o.n(n).a},775:function(e,t,o){var n=o(41),r=o(313),d=o(776);t=n(!1);var c=r(d);t.push([e.i,".c-ED3[data-v-d708d196]{color:#ed3400}.c-674[data-v-d708d196]{color:#674115}.fakePrice[data-v-d708d196]{text-decoration:line-through}.VideoRecommend[data-v-d708d196]{position:fixed;left:0;right:0;bottom:1.6rem;z-index:100;font-size:.37333rem}.VideoRecommend img[data-v-d708d196]{max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.VideoRecommend .pushCouponIcon[data-v-d708d196]{position:relative;top:-.53333rem}.VideoRecommend .pushCourse[data-v-d708d196]{background:#fff;padding:.26667rem;border-radius:.10667rem;box-shadow:0 0 .26667rem .02667rem rgba(0,0,0,.26);position:relative;margin-left:.4rem}.VideoRecommend .pushCourse .pushCourseIcon[data-v-d708d196]{position:absolute;top:.08rem;right:.08rem}.VideoRecommend .courseDetailWrap[data-v-d708d196]{display:flex;flex-direction:column;justify-content:space-between}.VideoRecommend .courseIcon[data-v-d708d196],.VideoRecommend .pushModal[data-v-d708d196]{position:absolute;left:0;bottom:-1.6rem}.VideoRecommend .pushModal[data-v-d708d196]{right:0;z-index:101;background:#fefefe;box-shadow:0 0 .26667rem 0 rgba(0,0,0,.25)}.VideoRecommend .pushModal .pushModalHeader[data-v-d708d196]{padding:.26667rem 0;font-size:.42667rem;font-weight:600}.VideoRecommend .pushModal .pushModalIcon[data-v-d708d196]{position:absolute;top:.61333rem;left:.26667rem;transform:translateY(-50%);color:#4c4c4c}.VideoRecommend .pushModal .buyBtns[data-v-d708d196]{padding:.13333rem .4rem;background:#ff514d;border-radius:.10667rem}.VideoRecommend .pushModal .hasBuyBtns[data-v-d708d196]{background:#dadada;border-radius:.42667rem;line-height:.74667rem}.VideoRecommend .pushModal .couponWrap[data-v-d708d196]{background:url("+c+") no-repeat;background-size:100% 100%;height:5.06667rem;color:#ed6058;position:relative}.VideoRecommend .pushModal .couponWrap .useBtn[data-v-d708d196]{border-radius:.42667rem;line-height:.74667rem;width:2.26667rem;text-align:center;background:#fff;font-size:.32rem}.VideoRecommend .pushModal .couponWrap .hasBuyBtns[data-v-d708d196]{background:#dadada;color:#fff}.VideoRecommend .pushModal .couponWrap .iconFont[data-v-d708d196]{position:absolute;transform:rotate(45deg);right:.21333rem;top:1.2rem;color:#fefefe}",""]),e.exports=t},776:function(e,t,o){e.exports=o.p+"img/couponBg.11a4276.png"},777:function(e,t,o){"use strict";var n=o(560);o.n(n).a},778:function(e,t,o){(t=o(41)(!1)).push([e.i,".itemWrap[data-v-2dddf897]{display:inline;padding:.21333rem .4rem;background:#45afff;border-radius:.4rem;font-weight:500;color:#fff;font-size:.32rem;word-break:keep-all}",""]),e.exports=t},779:function(e,t,o){"use strict";var n=o(561);o.n(n).a},780:function(e,t,o){(t=o(41)(!1)).push([e.i,".liveContainer[data-v-381d7dee]{overflow:hidden!important}.handle[data-v-381d7dee]{background:#fefefe;display:flex;justify-content:space-between;align-items:center;height:1.28rem}.handle .change[data-v-381d7dee]{color:#029bff}.handle .pImg[data-v-381d7dee]{display:inline-block;width:.26667rem}.handle .cImg[data-v-381d7dee]{display:inline-block;width:.4rem}#players[data-v-381d7dee],.player[data-v-381d7dee]{width:100%;height:5.33333rem;position:relative}.playWrap[data-v-381d7dee]{position:absolute;top:0;left:0;bottom:0;right:0;z-index:10000}[data-v-381d7dee] #pptH5SettingNav,[data-v-381d7dee] .plv_controls{display:block!important}.ppt[data-v-381d7dee]{position:fixed;top:0;right:0;width:3.30667rem;height:1.86667rem;z-index:99999;box-shadow:0 .05333rem .21333rem .02667rem rgba(51,51,51,.2);display:none}.ppt[data-v-381d7dee] #pptH5SettingNav,.ppt[data-v-381d7dee] .plv_controls{display:none!important}.liveScord[data-v-381d7dee] #tab-document{display:block}[data-v-381d7dee] #tab-document{height:100%;overflow:scroll!important}[data-v-381d7dee] #tab-ppt{display:block;height:100%}[data-v-381d7dee] .tab-discussion,[data-v-381d7dee] .tab-evaluate{background:#fff;overflow-y:auto}[data-v-381d7dee] .tab-discussion{padding-bottom:1.6rem}[data-v-381d7dee] #pptContentForH5,[data-v-381d7dee] #pptContentForH5Out{overflow:scroll!important;-webkit-overflow-scrolling:touch!important}[data-v-381d7dee] #paintbrush{touch-action:auto!important}[data-v-381d7dee] .mobile-wrap .polyv-more-control-list>li{width:100%}.previewWrap[data-v-381d7dee]{background:#404040;padding-top:1.6rem;box-sizing:border-box;height:5.33333rem}.previewWrap .buyBtn[data-v-381d7dee]{display:inline-block;width:4.26667rem;height:1.2rem;background:#ff514d;box-shadow:0 .05333rem .10667rem 0 rgba(255,81,77,.2);border-radius:.8rem;line-height:.8rem;text-align:center}.previewWrap .reload[data-v-381d7dee]{display:flex;color:#46afff;justify-content:center}.previewWrap .Icon[data-v-381d7dee]{vertical-align:middle}.isEnd[data-v-381d7dee] video{display:none!important}.showPushCourse[data-v-381d7dee] .useBtn{margin-right:.4rem}.showPushCourse[data-v-381d7dee] .mobile-wrap .polyv-chat-input>.polyv-chat-input-main{padding-left:1.86667rem}.showPushCourse[data-v-381d7dee] .polyv-chat-room .polyv-emotion-wrap{z-index:1000;left:1.6rem}.showPushCourse[data-v-381d7dee] .tab-chat-content{padding-bottom:1.06667rem}.showPushCourse[data-v-381d7dee] .polyv-chat-room .polyv-new-msg{z-index:999}.wechatPoint[data-v-381d7dee]{position:fixed;top:0;left:0;z-index:2001;width:100%;height:100%;background-color:rgba(0,0,0,.7)}.wechatPoint .wechatImg[data-v-381d7dee]{width:6.45333rem;height:9.68rem;float:right;margin-right:.53333rem}.CourseLastBuy[data-v-381d7dee]{position:fixed;top:8.8rem;left:50%;transform:translateX(-50%)}.mr80[data-v-381d7dee]{margin-right:2.13333rem!important}[data-v-381d7dee] .tab-chat{padding-bottom:1.33333rem!important}#CourseClock[data-v-381d7dee]{height:100%;padding:0 .53333rem;overflow-y:auto}#CourseClock[data-v-381d7dee] .wrap{padding-left:.26667rem}#CourseClock[data-v-381d7dee] .pd30{padding:.8rem}",""]),e.exports=t},781:function(e,t,o){"use strict";var n=o(562);o.n(n).a},782:function(e,t,o){(t=o(41)(!1)).push([e.i,".banner[data-v-6b0eb112]{width:100%}[data-v-6b0eb112] .courseBottom{padding-bottom:0}",""]),e.exports=t}}]);